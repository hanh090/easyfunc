<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xml:lang=
"en">
<head>
<meta http-equiv="Content-Type" content=
"text/html; charset=utf-8" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta name="GENERATOR" content=
"Quadralay WebWorks Publisher Professional Edition 7.0.2.1128" />
<meta name="TEMPLATEBASE" content="book-no-index" />
<meta name="LASTUPDATED" content="Tue Nov 12 11:54:08 2002" />
<title>JNI Functions</title>
<meta name="collection" content="api" />
<link rel="Table of Contents" href="jniTOC.html" />
<link rel="Previous" href="types.html" />
<link rel="Next" href="invocation.html" />
<link rel="Index" href="backcover.html" /><link rel="stylesheet" href="../../../../technotes/css/guide.css" />
</head>
<body>
<!-- STATIC HEADER -->

<!-- header start -->
<div id="javaseheader">
<div id="javaseheaderlogo">
<img src="../../../../images/javalogo.gif"
alt="Java logo" />
</div>
<div id="javaseheaderindex">

<a href=
"../../../../index.html">Documentation Contents</a>
</div>
<div class="clear"></div>
</div>

<!-- header end -->


<a href="#skip" title="Skip navigation bar"></a>
<table width="100%" summary="">
<tbody>
<tr>
<td align="left"><a accesskey="c" href="jniTOC.html">Contents</a> |
<a accesskey="p" href="types.html">Previous</a> | <a accesskey="n"
href="invocation.html">Next</a></td>
</tr>
</tbody>
</table>
<a name="skip" id="skip"></a> <a name="wp9502" id="wp9502"></a>
<h2 class="pNewHTMLPage">JNI Functions</h2>
<hr class="pHr" />
<a name="wp15773" id="wp15773"></a>
<h2 class="pChapNum">Chapter &nbsp; 4</h2>
<a name="wp15899" id="wp15899"></a>
<p class="pBody">This chapter serves as the reference section for
the JNI functions. It provides a complete listing of all the JNI
functions. It also presents the exact layout of the JNI function
table.</p>
<a name="wp5821" id="wp5821"></a>
<p class="pBody">Note the use of the term &#8220;must&#8221; to
describe restrictions on JNI programmers. For example, when you see
that a certain JNI function <em class="cEmphasis">must</em> receive
a non-NULL object, it is your responsibility to ensure that NULL is
not passed to that JNI function. As a result, a JNI implementation
does not need to perform NULL pointer checks in that JNI
function.</p>
<a name="wp5310" id="wp5310"></a>
<p class="pBody">A portion of this chapter is adapted from
Netscape&#8217;s JRI documentation.</p>
<a name="wp3476" id="wp3476"></a>
<p class="pBody">The reference material groups functions by their
usage. The reference section is organized by the following
functional areas:</p>
<div style="margin-left: 2em" class="pBullet1"><a name="wp3739" id=
"wp3739"></a>
<div class="pBullet1">
<ul>
<li><a href="#wp23717">Version Information</a></li>
</ul>
</div>
<a name="wp3744" id="wp3744"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#class_operations">Class Operations</a></li>
</ul>
</div>
<a name="wp3749" id="wp3749"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp5234">Exceptions</a></li>
</ul>
</div>
<a name="wp3754" id="wp3754"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#global_local">Global and Local References</a></li>
</ul>
</div>
<a name="wp3759" id="wp3759"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#weak">Weak Global References</a></li>
<li><a href="#wp16334">Object Operations</a></li>
</ul>
</div>
<a name="wp3764" id="wp3764"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp16536">Accessing Fields of Objects</a></li>
</ul>
</div>
<a name="wp3769" id="wp3769"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp16656">Calling Instance Methods</a></li>
</ul>
</div>
<a name="wp3774" id="wp3774"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp5901">Accessing Static Fields</a></li>
</ul>
</div>
<a name="wp3779" id="wp3779"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp20949">Calling Static Methods</a></li>
</ul>
</div>
<a name="wp3784" id="wp3784"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#string_operations">String Operations</a></li>
</ul>
</div>
<a name="wp3789" id="wp3789"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp17314">Array Operations</a></li>
</ul>
</div>
<a name="wp3794" id="wp3794"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp5833">Registering Native Methods</a></li>
</ul>
</div>
<a name="wp3799" id="wp3799"></a>
<div class="pBullet1Plus">
<ul>
<li><a href="#wp5256">Monitor Operations</a></li>
<li><a href="#nio_support">NIO Support</a></li>
<li><a href="#reflection_support">Reflection Support</a></li>
</ul>
</div>
<a name="wp3804" id="wp3804"></a>
<div class="pBullet1Last">
<ul>
<li><a href="#wp5263">Java VM Interface</a></li>
</ul>
</div>
</div>
<a name="wp23720" id="wp23720"></a>
<h2 class="pHeading1">Interface Function Table</h2>
<a name="wp23721" id="wp23721"></a>
<p class="pBody">Each function is accessible at a fixed offset
through the <em class="cEmphasis">JNIEnv</em> argument. The
<em class="cEmphasis">JNIEnv</em> type is a pointer to a structure
storing all JNI function pointers. It is defined as follows:</p>
<div class="pPreformatted">
<pre class="pPreformatted">
typedef const struct JNINativeInterface *JNIEnv;<a name="wp3813"
id="wp3813"> </a>

</pre></div>
<a name="wp23802" id="wp23802"></a>
<p class="pBody">The VM initializes the function table, as shown by
<a href="#wp2556">Code Example 4-1</a>. Note that the first three
entries are reserved for future compatibility with COM. In
addition, we reserve a number of additional <code class=
"cCode">NULL</code> entries near the beginning of the function
table, so that, for example, a future class-related JNI operation
can be added after FindClass, rather than at the end of the
table.</p>
<a name="wp5267" id="wp5267"></a>
<p class="pBody">Note that the function table can be shared among
all JNI interface pointers.</p>
<div class="pCodeCaption">
<div class="pCodeCaption"><br />
<a name="wp2556" id="wp2556">Code Example 4-1</a></div>
<div class="pPreformatted">
<pre class="pPreformatted">
const struct JNINativeInterface ... = {

    NULL,
    NULL,
    NULL,
    NULL,
    GetVersion,

    DefineClass,
    FindClass,

    FromReflectedMethod,
    FromReflectedField,
    ToReflectedMethod,

    GetSuperclass,
    IsAssignableFrom,

    ToReflectedField,

    Throw,
    ThrowNew,
    ExceptionOccurred,
    ExceptionDescribe,
    ExceptionClear,
    FatalError,

    PushLocalFrame,
    PopLocalFrame,

    NewGlobalRef,
    DeleteGlobalRef,
    DeleteLocalRef,
    IsSameObject,
    NewLocalRef,
    EnsureLocalCapacity,

    AllocObject,
    NewObject,
    NewObjectV,
    NewObjectA,

    GetObjectClass,
    IsInstanceOf,

    GetMethodID,

    CallObjectMethod,
    CallObjectMethodV,
    CallObjectMethodA,
    CallBooleanMethod,
    CallBooleanMethodV,
    CallBooleanMethodA,
    CallByteMethod,
    CallByteMethodV,
    CallByteMethodA,
    CallCharMethod,
    CallCharMethodV,
    CallCharMethodA,
    CallShortMethod,
    CallShortMethodV,
    CallShortMethodA,
    CallIntMethod,
    CallIntMethodV,
    CallIntMethodA,
    CallLongMethod,
    CallLongMethodV,
    CallLongMethodA,
    CallFloatMethod,
    CallFloatMethodV,
    CallFloatMethodA,
    CallDoubleMethod,
    CallDoubleMethodV,
    CallDoubleMethodA,
    CallVoidMethod,
    CallVoidMethodV,
    CallVoidMethodA,

    CallNonvirtualObjectMethod,
    CallNonvirtualObjectMethodV,
    CallNonvirtualObjectMethodA,
    CallNonvirtualBooleanMethod,
    CallNonvirtualBooleanMethodV,
    CallNonvirtualBooleanMethodA,
    CallNonvirtualByteMethod,
    CallNonvirtualByteMethodV,
    CallNonvirtualByteMethodA,
    CallNonvirtualCharMethod,
    CallNonvirtualCharMethodV,
    CallNonvirtualCharMethodA,
    CallNonvirtualShortMethod,
    CallNonvirtualShortMethodV,
    CallNonvirtualShortMethodA,
    CallNonvirtualIntMethod,
    CallNonvirtualIntMethodV,
    CallNonvirtualIntMethodA,
    CallNonvirtualLongMethod,
    CallNonvirtualLongMethodV,
    CallNonvirtualLongMethodA,
    CallNonvirtualFloatMethod,
    CallNonvirtualFloatMethodV,
    CallNonvirtualFloatMethodA,
    CallNonvirtualDoubleMethod,
    CallNonvirtualDoubleMethodV,
    CallNonvirtualDoubleMethodA,
    CallNonvirtualVoidMethod,
    CallNonvirtualVoidMethodV,
    CallNonvirtualVoidMethodA,

    GetFieldID,

    GetObjectField,
    GetBooleanField,
    GetByteField,
    GetCharField,
    GetShortField,
    GetIntField,
    GetLongField,
    GetFloatField,
    GetDoubleField,
    SetObjectField,
    SetBooleanField,
    SetByteField,
    SetCharField,
    SetShortField,
    SetIntField,
    SetLongField,
    SetFloatField,
    SetDoubleField,

    GetStaticMethodID,

    CallStaticObjectMethod,
    CallStaticObjectMethodV,
    CallStaticObjectMethodA,
    CallStaticBooleanMethod,
    CallStaticBooleanMethodV,
    CallStaticBooleanMethodA,
    CallStaticByteMethod,
    CallStaticByteMethodV,
    CallStaticByteMethodA,
    CallStaticCharMethod,
    CallStaticCharMethodV,
    CallStaticCharMethodA,
    CallStaticShortMethod,
    CallStaticShortMethodV,
    CallStaticShortMethodA,
    CallStaticIntMethod,
    CallStaticIntMethodV,
    CallStaticIntMethodA,
    CallStaticLongMethod,
    CallStaticLongMethodV,
    CallStaticLongMethodA,
    CallStaticFloatMethod,
    CallStaticFloatMethodV,
    CallStaticFloatMethodA,
    CallStaticDoubleMethod,
    CallStaticDoubleMethodV,
    CallStaticDoubleMethodA,
    CallStaticVoidMethod,
    CallStaticVoidMethodV,
    CallStaticVoidMethodA,

    GetStaticFieldID,

    GetStaticObjectField,
    GetStaticBooleanField,
    GetStaticByteField,
    GetStaticCharField,
    GetStaticShortField,
    GetStaticIntField,
    GetStaticLongField,
    GetStaticFloatField,
    GetStaticDoubleField,

    SetStaticObjectField,
    SetStaticBooleanField,
    SetStaticByteField,
    SetStaticCharField,
    SetStaticShortField,
    SetStaticIntField,
    SetStaticLongField,
    SetStaticFloatField,
    SetStaticDoubleField,

    NewString,

    GetStringLength,
    GetStringChars,
    ReleaseStringChars,

    NewStringUTF,
    GetStringUTFLength,
    GetStringUTFChars,
    ReleaseStringUTFChars,

    GetArrayLength,

    NewObjectArray,
    GetObjectArrayElement,
    SetObjectArrayElement,

    NewBooleanArray,
    NewByteArray,
    NewCharArray,
    NewShortArray,
    NewIntArray,
    NewLongArray,
    NewFloatArray,
    NewDoubleArray,

    GetBooleanArrayElements,
    GetByteArrayElements,
    GetCharArrayElements,
    GetShortArrayElements,
    GetIntArrayElements,
    GetLongArrayElements,
    GetFloatArrayElements,
    GetDoubleArrayElements,

    ReleaseBooleanArrayElements,
    ReleaseByteArrayElements,
    ReleaseCharArrayElements,
    ReleaseShortArrayElements,
    ReleaseIntArrayElements,
    ReleaseLongArrayElements,
    ReleaseFloatArrayElements,
    ReleaseDoubleArrayElements,

    GetBooleanArrayRegion,
    GetByteArrayRegion,
    GetCharArrayRegion,
    GetShortArrayRegion,
    GetIntArrayRegion,
    GetLongArrayRegion,
    GetFloatArrayRegion,
    GetDoubleArrayRegion,
    SetBooleanArrayRegion,
    SetByteArrayRegion,
    SetCharArrayRegion,
    SetShortArrayRegion,
    SetIntArrayRegion,
    SetLongArrayRegion,
    SetFloatArrayRegion,
    SetDoubleArrayRegion,

    RegisterNatives,
    UnregisterNatives,

    MonitorEnter,
    MonitorExit,

    GetJavaVM,

    GetStringRegion,
    GetStringUTFRegion,

    GetPrimitiveArrayCritical,
    ReleasePrimitiveArrayCritical,

    GetStringCritical,
    ReleaseStringCritical,

    NewWeakGlobalRef,
    DeleteWeakGlobalRef,

    ExceptionCheck,

    NewDirectByteBuffer,
    GetDirectBufferAddress,
    GetDirectBufferCapacity,

    GetObjectRefType
  };
</pre></div>
<p class="pBody"></p>
</div>
<a name="wp23717" id="wp23717"></a>
<h2 class="pHeading1">Version Information</h2>
<a name="wp15951" id="wp15951"></a>
<h3 class="pHeading2">GetVersion</h3>
<a name="wp15956" id="wp15956"></a>
<p class="pBody"><code class="cCode">jint GetVersion(JNIEnv
*env);</code></p>
<a name="wp3616" id="wp3616"></a>
<p class="pBody">Returns the version of the native method
interface.</p>
<p><a name="wp3623" id="wp3623"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 4 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18147" id="wp18147"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18146" id="wp18146"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18122" id="wp18122"></a>
<p class="pBody">Returns the major version number in the higher 16
bits and the minor version number in the lower 16 bits.</p>
<a name="wp23205" id="wp23205"></a>
<p class="pBody">In JDK/JRE 1.1, <code class=
"cCode">GetVersion()</code> returns <code>0x00010001</code>.</p>
<p class="pBody">In JDK/JRE 1.2, <code>GetVersion()</code> returns
<code>0x00010002</code>.</p>
<p class="pBody">In JDK/JRE 1.4, <code>GetVersion()</code> returns
<code>0x00010004</code>.</p>
<p class="pBody">In JDK/JRE 1.6, <code>GetVersion()</code> returns
<code>0x00010006</code>.</p>
<h3 class="pBody">Constants</h3>
<h4 class="pHeading4">SINCE JDK/JRE 1.2:</h4>
<pre>
#define JNI_VERSION_1_1 0x00010001
#define JNI_VERSION_1_2 0x00010002

/* Error codes */
#define JNI_EDETACHED    (-2)              /* thread detached from the VM */
#define JNI_EVERSION     (-3)              /* JNI version error 
</pre>
<h4 class="pHeading4">SINCE JDK/JRE 1.4:</h4>
<pre>
    #define JNI_VERSION_1_4 0x00010004
</pre>
<h4 class="pHeading4">SINCE JDK/JRE 1.6:</h4>
<pre>
    #define JNI_VERSION_1_6 0x00010006
</pre>
<h2 class="pHeading1"><a name="class_operations" id=
"class_operations"></a>Class Operations</h2>
<a name="wp15986" id="wp15986"></a>
<h3 class="pHeading2">DefineClass</h3>
<a name="wp15990" id="wp15990"></a>
<p class="pBody"><code class="cCode">jclass DefineClass(JNIEnv
*env, const char *name, jobject loader,<br />
const jbyte *buf, jsize bufLen);</code></p>
<a name="wp6281" id="wp6281"></a>
<p class="pBody">Loads a class from a buffer of raw class data. The
buffer containing the raw class data is not referenced by the VM
after the DefineClass call returns, and it may be discarded if
desired.</p>
<p><a name="wp18144" id="wp18144"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 5 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18148" id="wp18148"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<p class="pBody"><code class="cCode">name</code>: the name of the
class or interface to be defined. The string is encoded in modified
UTF-8.</p>
<a name="wp18152" id="wp18152"></a>
<p class="pBody"><code class="cCode">loader</code>: a class loader
assigned to the defined class.</p>
<a name="wp18153" id="wp18153"></a>
<p class="pBody"><code class="cCode">buf</code>: buffer containing
the <code class="cCode">.class</code> file data.</p>
<a name="wp18151" id="wp18151"></a>
<p class="pBody"><code class="cCode">bufLen</code>: buffer
length.</p>
<a name="wp18157" id="wp18157"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18156" id="wp18156"></a>
<p class="pBody">Returns a Java class object or <code class=
"cCode">NULL</code> if an error occurs.</p>
<a name="wp16013" id="wp16013"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp16015" id="wp16015"></a>
<p class="pBody"><code class="cCode">ClassFormatError</code>: if
the class data does not specify a valid class.</p>
<a name="wp5936" id="wp5936"></a>
<p class="pBody"><code class="cCode">ClassCircularityError</code>:
if a class or interface would be its own superclass or
superinterface.</p>
<a name="wp5935" id="wp5935"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="secExDefineClass" id="secExDefineClass"></a>
<p class="pBody"><code class="cCode">SecurityException</code>: if
the caller attempts to define a class in the "java" package
tree.</p>
<a name="wp16027" id="wp16027"></a>
<h3 class="pHeading2">FindClass</h3>
<a name="wp16031" id="wp16031"></a>
<p class="pBody"><code class="cCode">jclass FindClass(JNIEnv *env,
const char *name);</code></p>
<a name="wp18197" id="wp18197"></a>
<p class="pBody">In JDK release 1.1, this function loads a
locally-defined class. It searches the directories and zip files
specified by the <code class="cCode">CLASSPATH</code> environment
variable for the class with the specified name.</p>
<p>Since Java 2 SDK release 1.2, the Java security model allows
non-system classes to load and call native methods.
<code>FindClass</code> locates the class loader associated with the
current native method; that is, the class loader of the class that
declared the native method. If the native method belongs to a
system class, no class loader will be involved. Otherwise, the
proper class loader will be invoked to load and link the named
class.</p>
<p>Since Java 2 SDK release 1.2, when <code>FindClass</code> is
called through the Invocation Interface, there is no current native
method or its associated class loader. In that case, the result of
<code>ClassLoader.getSystemClassLoader</code> is used. This is the
class loader the virtual machine creates for applications, and is
able to locate classes listed in the <code>java.class.path</code>
property.</p>
<p>The <code>name</code> argument is a fully-qualified class name
or an array type signature . For example, the fully-qualified class
name for the <code>java.lang.String</code> class is:</p>
<pre>
<a name="69011"> </a>                  "java/lang/String"

</pre>
<p>The array type signature of the array class
<code>java.lang.Object[]</code> is:</p>
<pre>
<a name="69010"> </a>                  "[Ljava/lang/Object;"


</pre>
<p><a name="wp18187" id="wp18187"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 6 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18188" id="wp18188"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18189" id="wp18189"></a>
<p class="pBody"><code class="cCode">name</code>: a fully-qualified
class name (that is, a package name, delimited by
&#8220;<code class="cCode">/</code>&#8221;, followed by the class
name). If the name begins with &#8220;<code class=
"cCode">[</code>&#8220; (the array signature character), it returns
an array class. The string is encoded in modified UTF-8.</p>
<a name="wp18213" id="wp18213"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18214" id="wp18214"></a>
<p class="pBody">Returns a class object from a fully-qualified
name, or <code class="cCode">NULL</code> if the class cannot be
found.</p>
<a name="wp5939" id="wp5939"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5940" id="wp5940"></a>
<p class="pBody"><code class="cCode">ClassFormatError</code>: if
the class data does not specify a valid class.</p>
<a name="wp5950" id="wp5950"></a>
<p class="pBody"><code class="cCode">ClassCircularityError</code>:
if a class or interface would be its own superclass or
superinterface.</p>
<a name="wp5952" id="wp5952"></a>
<p class="pBody"><code class="cCode">NoClassDefFoundError</code>:
if no definition for a requested class or interface can be
found.</p>
<a name="wp5942" id="wp5942"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<h3 class="pHeading2"><a name="get_superclass" id=
"get_superclass"></a>GetSuperclass</h3>
<a name="wp18301" id="wp18301"></a>
<p class="pBody"><code class="cCode">jclass GetSuperclass(JNIEnv
*env, jclass clazz);</code></p>
<a name="wp18290" id="wp18290"></a>
<p class="pBody">If <code class="cCode">clazz</code> represents any
class other than the class <code class="cCode">Object</code>, then
this function returns the object that represents the superclass of
the class specified by <code class="cCode">clazz</code>.</p>
<a name="wp18304" id="wp18304"></a>
<p class="pBody">If <code class="cCode">clazz</code> specifies the
class <code class="cCode">Object</code>, or <code class=
"cCode">clazz</code> represents an interface, this function returns
<code class="cCode">NULL</code>.</p>
<p><a name="wp3627" id="wp3627"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 10 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18312" id="wp18312"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18313" id="wp18313"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp3634" id="wp3634"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18315" id="wp18315"></a>
<p class="pBody">Returns the superclass of the class represented by
<code class="cCode">clazz</code>, or <code class=
"cCode">NULL</code>.</p>
<a name="wp16061" id="wp16061"></a>
<h3 class="pHeading2">IsAssignableFrom</h3>
<a name="wp16065" id="wp16065"></a>
<p class="pBody"><code class="cCode">jboolean
IsAssignableFrom(JNIEnv *env, jclass clazz1,<br />
jclass clazz2);</code></p>
<a name="wp16069" id="wp16069"></a>
<p class="pBody">Determines whether an object of <code class=
"cCode">clazz1</code> can be safely cast to <code class=
"cCode">clazz2</code>.</p>
<p><a name="wp16071" id="wp16071"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 11 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18243" id="wp18243"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18244" id="wp18244"></a>
<p class="pBody"><code class="cCode">clazz1</code>: the first class
argument.</p>
<a name="wp18245" id="wp18245"></a>
<p class="pBody"><code class="cCode">clazz2</code>: the second
class argument.</p>
<a name="wp18246" id="wp18246"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18254" id="wp18254"></a>
<p class="pBody">Returns <code class="cCode">JNI_TRUE</code> if
either of the following is true:</p>
<div style="margin-left: 2em" class="pBullet1"><a name="wp5311" id=
"wp5311"></a>
<div class="pBullet1">
<ul>
<li>The first and second class arguments refer to the same Java
class.</li>
</ul>
</div>
<a name="wp5316" id="wp5316"></a>
<div class="pBullet1Plus">
<ul>
<li>The first class is a subclass of the second class.</li>
</ul>
</div>
<a name="wp5319" id="wp5319"></a>
<div class="pBullet1Last">
<ul>
<li>The first class has the second class as one of its
interfaces.</li>
</ul>
</div>
</div>
<a name="wp5234" id="wp5234"></a>
<h2 class="pHeading1">Exceptions</h2>
<a name="wp16086" id="wp16086"></a>
<h3 class="pHeading2">Throw</h3>
<a name="wp16090" id="wp16090"></a>
<p class="pBody"><code class="cCode">jint Throw(JNIEnv *env,
jthrowable obj);</code></p>
<a name="wp16094" id="wp16094"></a>
<p class="pBody">Causes a <code class=
"cCode">java.lang.Throwable</code> object to be thrown.</p>
<a name="wp16095" id="wp16095"></a>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 13 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18340" id="wp18340"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18341" id="wp18341"></a>
<p class="pBody"><code class="cCode">obj</code>: a <code class=
"cCode">java.lang.Throwable</code> object.</p>
<a name="wp18344" id="wp18344"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18345" id="wp18345"></a>
<p class="pBody">Returns 0 on success; a negative value on
failure.</p>
<a name="wp5963" id="wp5963"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5964" id="wp5964"></a>
<p class="pBody">the <code class="cCode">java.lang.Throwable</code>
<code class="cCode">object</code> <code class=
"cCode">obj</code><code class="cCode">.</code></p>
<a name="wp16104" id="wp16104"></a>
<h3 class="pHeading2">ThrowNew</h3>
<a name="wp16108" id="wp16108"></a>
<p class="pBody"><code class="cCode">jint ThrowNew(JNIEnv *env,
jclass clazz,<br />
const char *message);</code></p>
<a name="wp16112" id="wp16112"></a>
<p class="pBody">Constructs an exception object from the specified
class with the message specified by <code class=
"cCode">message</code> and causes that exception to be thrown.</p>
<a name="wp18365" id="wp18365"></a>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 14 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18366" id="wp18366"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18367" id="wp18367"></a>
<p class="pBody"><code class="cCode">clazz</code>: a subclass of
<code class="cCode">java.lang.Throwable</code>.</p>
<a name="wp18371" id="wp18371"></a>
<p class="pBody"><code class="cCode">message</code>: the message
used to construct the <code class=
"cCode">java.lang.Throwable</code> object. The string is encoded in
modified UTF-8.</p>
<a name="wp18370" id="wp18370"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18369" id="wp18369"></a>
<p class="pBody">Returns 0 on success; a negative value on
failure.</p>
<a name="wp5974" id="wp5974"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5975" id="wp5975"></a>
<p class="pBody">the newly constructed <code class=
"cCode">java.lang.Throwable</code> object.</p>
<a name="wp16124" id="wp16124"></a>
<h3 class="pHeading2">ExceptionOccurred</h3>
<a name="wp16128" id="wp16128"></a>
<p class="pBody"><code class="cCode">jthrowable
ExceptionOccurred(JNIEnv *env);</code></p>
<a name="wp3661" id="wp3661"></a>
<p class="pBody">Determines if an exception is being thrown. The
exception stays being thrown until either the native code calls
<code class="cCode">ExceptionClear()</code>, or the Java code
handles the exception.</p>
<p><a name="wp18387" id="wp18387"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 15 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18388" id="wp18388"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18391" id="wp18391"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18385" id="wp18385"></a>
<p class="pBody">Returns the exception object that is currently in
the process of being thrown, or <code class="cCode">NULL</code> if
no exception is currently being thrown.</p>
<a name="wp16146" id="wp16146"></a>
<h3 class="pHeading2">ExceptionDescribe</h3>
<a name="wp16150" id="wp16150"></a>
<p class="pBody"><code class="cCode">void ExceptionDescribe(JNIEnv
*env);</code></p>
<a name="wp16154" id="wp16154"></a>
<p class="pBody">Prints an exception and a backtrace of the stack
to a system error-reporting channel, such as <code class=
"cCode">stderr</code>. This is a convenience routine provided for
debugging.</p>
<a name="wp18460" id="wp18460"></a>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 16 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18461" id="wp18461"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp16166" id="wp16166"></a>
<h3 class="pHeading2">ExceptionClear</h3>
<a name="wp16170" id="wp16170"></a>
<p class="pBody"><code class="cCode">void ExceptionClear(JNIEnv
*env);</code></p>
<a name="wp16174" id="wp16174"></a>
<p class="pBody">Clears any exception that is currently being
thrown. If no exception is currently being thrown, this routine has
no effect.</p>
<a name="wp18549" id="wp18549"></a>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 17 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18550" id="wp18550"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp16186" id="wp16186"></a>
<h3 class="pHeading2">FatalError</h3>
<a name="wp16190" id="wp16190"></a>
<p class="pBody"><code class="cCode">void FatalError(JNIEnv *env,
const char *msg);</code></p>
<a name="wp16194" id="wp16194"></a>
<p class="pBody">Raises a fatal error and does not expect the VM to
recover. This function does not return.</p>
<a name="wp18552" id="wp18552"></a>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 18 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18553" id="wp18553"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18543" id="wp18543"></a>
<p class="pBody"><code class="cCode">msg</code>: an error message.
The string is encoded in modified UTF-8.</p>
<p><a name="wp16270" id="wp16270"></a></p>
<h3 class="pHeading2"><a name="exception_check" id=
"exception_check"></a>ExceptionCheck</h3>
We introduce a convenience function to check for pending exceptions
without creating a local reference to the exception object.
<p><a name="ExceptionCheck" id="ExceptionCheck"></a> <code>jboolean
ExceptionCheck(JNIEnv *env);</code></p>
<p>Returns <code>JNI_TRUE</code> when there is a pending exception;
otherwise, returns <code>JNI_FALSE</code>.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 228 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<a name="weakrefs" id="weakrefs"></a>
<h2 class="pHeading1"><a name="global_local" id=
"global_local"></a>Global and Local References</h2>
<p><a name="wp16274" id="wp16274"></a></p>
<h3>Global References</h3>
<h3 class="pHeading2"><a name="NewGlobalRef" id=
"NewGlobalRef"></a>NewGlobalRef</h3>
<a name="wp16278" id="wp16278"></a>
<p class="pBody"><code class="cCode">jobject NewGlobalRef(JNIEnv
*env, jobject obj);</code></p>
<a name="wp16282" id="wp16282"></a>
<p class="pBody">Creates a new global reference to the object
referred to by the <code class="cCode">obj</code> argument. The
<code class="cCode">obj</code> argument may be a global or local
reference. Global references must be explicitly disposed of by
calling <code class="cCode">DeleteGlobalRef()</code>.</p>
<a name="wp18585" id="wp18585"></a>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 21 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18586" id="wp18586"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18587" id="wp18587"></a>
<p class="pBody"><code class="cCode">obj</code>: a global or local
reference.</p>
<a name="wp18589" id="wp18589"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18590" id="wp18590"></a>
<p class="pBody">Returns a global reference, or <code class=
"cCode">NULL</code> if the system runs out of memory.</p>
<a name="wp16294" id="wp16294"></a>
<h3 class="pHeading2"><a name="DeleteGlobalRef" id=
"DeleteGlobalRef"></a>DeleteGlobalRef</h3>
<a name="wp16298" id="wp16298"></a>
<p class="pBody"><code class="cCode">void DeleteGlobalRef(JNIEnv
*env, jobject globalRef);</code></p>
<a name="wp16302" id="wp16302"></a>
<p class="pBody">Deletes the global reference pointed to by
<code class="cCode">globalRef</code>.</p>
<p><a name="wp23724" id="wp23724"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p align="left">Index 22 in the JNIEnv interface function
table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18651" id="wp18651"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18652" id="wp18652"></a>
<p class="pBody"><code class="cCode">globalRef</code>: a global
reference.</p>
<p><a name="wp18654" id="wp18654"></a></p>
<h3>Local References</h3>
<p>Local references are valid for the duration of a native method
call. They are freed automatically after the native method returns.
Each local reference costs some amount of Java Virtual Machine
resource. Programmers need to make sure that native methods do not
excessively allocate local references. Although local references
are automatically freed after the native method returns to Java,
excessive allocation of local references may cause the VM to run
out of memory during the execution of a native method.</p>
<h3 class="pHeading2"><a name="DeleteLocalRef" id=
"DeleteLocalRef"></a>DeleteLocalRef</h3>
<a name="wp18655" id="wp18655"></a>
<p class="pBody"><code class="cCode">void DeleteLocalRef(JNIEnv
*env, jobject localRef);</code></p>
<a name="wp18656" id="wp18656"></a>
<p class="pBody">Deletes the local reference pointed to by
<code class="cCode">localRef</code>.</p>
<p><a name="wp18657" id="wp18657"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 23 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18658" id="wp18658"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18659" id="wp18659"></a>
<p class="pBody"><code class="cCode">localRef</code>: a local
reference.</p>
<p><a name="wp16334" id="wp16334"></a></p>
<table width="80%" border="1" cellpadding="5" align="center"
cellspacing="0" summary="">
<tbody>
<tr>
<td bgcolor="#FFFFCC">
<h2><u>Note</u></h2>
<p>JDK/JRE 1.1 provides the <code>DeleteLocalRef</code> function
above so that programmers can manually delete local references. For
example, if native code iterates through a potentially large array
of objects and uses one element in each iteration, it is a good
practice to delete the local reference to the no-longer-used array
element before a new local reference is created in the next
iteration.</p>
<p>As of JDK/JRE 1.2 an additional set of functions are provided
for local reference lifetime management. They are the four
functions listed below.</p>
</td>
</tr>
</tbody>
</table>
<h3 class="pHeading2"><a name="ensure_local_capacity" id=
"ensure_local_capacity"></a>EnsureLocalCapacity</h3>
<p><a name="EnsureLocalCapacity" id="EnsureLocalCapacity"></a>
<code>jint EnsureLocalCapacity(JNIEnv *env, jint
capacity);</code></p>
<p>Ensures that <em>at least</em> a given number of local
references can be created in the current thread. Returns 0 on
success; otherwise returns a negative number and throws an
<code>OutOfMemoryError</code>.</p>
<p>Before it enters a native method, the VM automatically ensures
that at least <strong>16</strong> local references can be
created.</p>
<p>For backward compatibility, the VM allocates local references
beyond the ensured capacity. (As a debugging support, the VM may
give the user warnings that too many local references are being
created. In the JDK, the programmer can supply the
<code>-verbose:jni</code> command line option to turn on these
messages.) The VM calls <code>FatalError</code> if no more local
references can be created beyond the ensured capacity.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 26 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="push_local_frame" id=
"push_local_frame"></a>PushLocalFrame</h3>
<p><a name="PushLocalFrame" id="PushLocalFrame"></a> <code>jint
PushLocalFrame(JNIEnv *env, jint capacity);</code></p>
<p>Creates a new local reference frame, in which at least a given
number of local references can be created. Returns 0 on success, a
negative number and a pending <code>OutOfMemoryError</code> on
failure.</p>
<p>Note that local references already created in previous local
frames are still valid in the current local frame.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 19 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="pop_local_frame" id=
"pop_local_frame"></a>PopLocalFrame</h3>
<p><a name="PopLocalFrame" id="PopLocalFrame"></a> <code>jobject
PopLocalFrame(JNIEnv *env, jobject result);</code></p>
<p>Pops off the current local reference frame, frees all the local
references, and returns a local reference in the previous local
reference frame for the given <code>result</code> object.</p>
<p>Pass <code>NULL</code> as <code>result</code> if you do not need
to return a reference to the previous frame.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 20 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="new_local_ref" id=
"new_local_ref"></a>NewLocalRef</h3>
<p><a name="NewLocalRef" id="NewLocalRef"></a> <code>jobject
NewLocalRef(JNIEnv *env, jobject ref);</code></p>
<p>Creates a new local reference that refers to the same object as
<code>ref</code>. The given <code>ref</code> may be a global or
local reference. Returns <code>NULL</code> if <code>ref</code>
refers to <code>null</code>.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 25 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h2><a name="weak" id="weak"></a>Weak Global References</h2>
Weak global references are a special kind of global reference.
Unlike normal global references, a weak global reference allows the
underlying Java object to be garbage collected. Weak global
references may be used in any situation where global or local
references are used. When the garbage collector runs, it frees the
underlying object if the object is only referred to by weak
references. A weak global reference pointing to a freed object is
functionally equivalent to <code>NULL</code>. Programmers can
detect whether a weak global reference points to a freed object by
using <code>IsSameObject</code> to compare the weak reference
against <code>NULL</code>.
<p>Weak global references in JNI are a simplified version of the
Java Weak References, available as part of the Java 2 Platform API
( <code>java.lang.ref</code> package and its classes). <a name=
"weakrefs clarification"></a></p>
<p><strong>Clarification</strong> &nbsp;&nbsp;&nbsp;<i>(added June
2001)</i></p>
<p><i>Since garbage collection may occur while native methods are
running, objects referred to by weak global references can be freed
at any time. While weak global references can be used where global
references are used, it is generally inappropriate to do so, as
they may become functionally equivalent to</i> <code>NULL</code>
<i>without notice.</i></p>
<p><i>While</i> <code>IsSameObject</code> <i>can be used to
determine whether a weak global reference refers to a freed object,
it does not prevent the object from being freed immediately
thereafter. Consequently, programmers may not rely on this check to
determine whether a weak global reference may used (as a
non-</i><code>NULL</code> <i>reference) in any future JNI function
call.</i></p>
<p><i>To overcome this inherent limitation, it is recommended that
a standard (strong) local or global reference to the same object be
acquired using the JNI functions</i> <code>NewLocalRef</code>
<i>or</i> <code>NewGlobalRef</code><i>, and that this strong
reference be used to access the intended object. These functions
will return</i> <code>NULL</code> <i>if the object has been freed,
and otherwise will return a strong reference (which will prevent
the object from being freed). The new reference should be
explicitly deleted when immediate access to the object is no longer
required, allowing the object to be freed.</i></p>
<p><i>The weak global reference is weaker than other types of weak
references (Java objects of the SoftReference or WeakReference
classes). A weak global reference to a specific object will not
become functionally equivalent to</i> <code>NULL</code> <i>until
after SoftReference or WeakReference objects referring to that same
specific object have had their references cleared.</i></p>
<p><i>The weak global reference is weaker than Java's internal
references to objects requiring finalization. A weak global
reference will not become functionally equivalent to</i>
<code>NULL</code> <i>until after the completion of the finalizer
for the referenced object, if present.</i></p>
<p><i>Interactions between weak global references and
PhantomReferences are undefined. In particular, implementations of
a Java VM may (or may not) process weak global references after
PhantomReferences, and it may (or may not) be possible to use weak
global references to hold on to objects which are also referred to
by PhantomReference objects. This undefined use of weak global
references should be avoided.</i></p>
<h3 class="pHeading2"><a name="NewWeakGlobalRef" id=
"NewWeakGlobalRef"></a> NewWeakGlobalRef</h3>
<p><code>jweak NewWeakGlobalRef(JNIEnv *env, jobject
obj);</code></p>
<p>Creates a new weak global reference. Returns <code>NULL</code>
if <code>obj</code> refers to <code>null</code>, or if the VM runs
out of memory. If the VM runs out of memory, an
<code>OutOfMemoryError</code> will be thrown.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 226 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="DeleteWeakGlobalRef" id=
"DeleteWeakGlobalRef"></a> DeleteWeakGlobalRef</h3>
<p><code>void DeleteWeakGlobalRef(JNIEnv *env, jweak
obj);</code></p>
<p>Delete the VM resources needed for the given weak global
reference.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 227 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2<a name="arrayops" id="arrayops"></a></p>
<h2 class="pHeading1"><a name="object_operations" id=
"object_operations"></a>Object Operations</h2>
<a name="wp16337" id="wp16337"></a>
<h3 class="pHeading2">AllocObject</h3>
<a name="wp16341" id="wp16341"></a>
<p class="pBody"><code class="cCode">jobject AllocObject(JNIEnv
*env, jclass clazz);</code></p>
<a name="wp16345" id="wp16345"></a>
<p class="pBody">Allocates a new Java object without invoking any
of the constructors for the object. Returns a reference to the
object.</p>
<a name="wp5280" id="wp5280"></a>
<p class="pBody">The clazz argument must not refer to an array
class.</p>
<p><a name="wp18680" id="wp18680"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 27 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18681" id="wp18681"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18682" id="wp18682"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp18683" id="wp18683"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18684" id="wp18684"></a>
<p class="pBody">Returns a Java object, or <code class=
"cCode">NULL</code> if the object cannot be constructed.</p>
<a name="wp18678" id="wp18678"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp16353" id="wp16353"></a>
<p class="pBody"><code class="cCode">InstantiationException</code>:
if the class is an interface or an abstract class.</p>
<a name="wp5982" id="wp5982"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp4517" id="wp4517"></a>
<h3 class="pHeading2">NewObject<br />
NewObjectA<br />
NewObjectV</h3>
<a name="wp16368" id="wp16368"></a>
<p class="pBody"><code class="cCode">jobject NewObject(JNIEnv *env,
jclass clazz,<br />
jmethodID methodID, ...);</code></p>
<a name="wp4522" id="wp4522"></a>
<p class="pBody"><code class="cCode">jobject NewObjectA(JNIEnv
*env, jclass clazz,<br />
jmethodID methodID, const jvalue *args);</code></p>
<a name="wp4528" id="wp4528"></a>
<p class="pBody"><code class="cCode">jobject NewObjectV(JNIEnv
*env, jclass clazz,<br />
jmethodID methodID, va_list args);</code></p>
<a name="wp5335" id="wp5335"></a>
<p class="pBody">Constructs a new Java object. The method ID
indicates which constructor method to invoke. This ID must be
obtained by calling <code class="cCode">GetMethodID()</code> with
<code class="cCode">&lt;init&gt;</code> as the method name and
<code class="cCode">void</code> (<code class="cCode">V</code>) as
the return type.</p>
<a name="wp5774" id="wp5774"></a>
<p class="pBody">The <code class="cCode">clazz</code> argument must
not refer to an array class.</p>
<a name="wp5336" id="wp5336"></a>
<h4 class="pHeading4">NewObject</h4>
<a name="wp4529" id="wp4529"></a>
<p class="pBody">Programmers place all arguments that are to be
passed to the constructor immediately following the <code class=
"cCode">methodID</code> argument. <code class=
"cCode">NewObject()</code> accepts these arguments and passes them
to the Java method that the programmer wishes to invoke.</p>
<p><a name="wp4531" id="wp4531"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 28 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">NewObjectA</h4>
<a name="wp4536" id="wp4536"></a>
<p class="pBody">Programmers place all arguments that are to be
passed to the constructor in an <code class="cCode">args</code>
array of <code class="cCode">jvalues</code> that immediately
follows the <code class="cCode">methodID</code> argument.
<code class="cCode">NewObjectA()</code> accepts the arguments in
this array, and, in turn, passes them to the Java method that the
programmer wishes to invoke.</p>
<p><a name="wp4534" id="wp4534"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 30 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">NewObjectV</h4>
<a name="wp4538" id="wp4538"></a>
<p class="pBody">Programmers place all arguments that are to be
passed to the constructor in an <code class="cCode">args</code>
argument of type <code class="cCode">va_list</code> that
immediately follows the <code class="cCode">methodID</code>
argument. <code class="cCode">NewObjectV()</code> accepts these
arguments, and, in turn, passes them to the Java method that the
programmer wishes to invoke.</p>
<p><a name="wp18736" id="wp18736"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 29 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18724" id="wp18724"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18725" id="wp18725"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp18730" id="wp18730"></a>
<p class="pBody"><code class="cCode">methodID</code>: the method ID
of the constructor.</p>
<a name="wp5076" id="wp5076"></a>
<h4 class="pHeading4">Additional Parameter for NewObject:</h4>
<a name="wp5077" id="wp5077"></a>
<p class="pBody">arguments to the constructor.</p>
<a name="wp4541" id="wp4541"></a>
<h4 class="pHeading4">Additional Parameter for NewObjectA:</h4>
<a name="wp4546" id="wp4546"></a>
<p class="pBody"><code class="cCode">args</code>: an array of
arguments to the constructor.</p>
<a name="wp4544" id="wp4544"></a>
<h4 class="pHeading4">Additional Parameter for NewObjectV:</h4>
<a name="wp4550" id="wp4550"></a>
<p class="pBody"><code class="cCode">args</code>: a va_list of
arguments to the constructor.</p>
<a name="wp18726" id="wp18726"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18727" id="wp18727"></a>
<p class="pBody">Returns a Java object, or <code class=
"cCode">NULL</code> if the object cannot be constructed.</p>
<a name="wp18728" id="wp18728"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp18729" id="wp18729"></a>
<p class="pBody"><code class="cCode">InstantiationException</code>:
if the class is an interface or an abstract class.</p>
<a name="wp5987" id="wp5987"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp5990" id="wp5990"></a>
<p class="pBody">Any exceptions thrown by the constructor.</p>
<a name="wp16454" id="wp16454"></a>
<h3 class="pHeading2">GetObjectClass</h3>
<a name="wp16458" id="wp16458"></a>
<p class="pBody"><code class="cCode">jclass GetObjectClass(JNIEnv
*env, jobject obj);</code></p>
<p class="pBody">Returns the class of an object.</p>
<p><a name="wp18795" id="wp18795"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 31 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18796" id="wp18796"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18797" id="wp18797"></a>
<p class="pBody"><code class="cCode">obj</code>: a Java object
(must not be <code class="cCode">NULL</code>).</p>
<a name="wp18800" id="wp18800"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18801" id="wp18801"></a>
<p class="pBody">Returns a Java class object.</p>
<!-- ******** added 9.30.05. works in j6.0 -->
<a name="objreftype" id="objreftype"></a>
<h3 class="pHeading2">GetObjectRefType</h3>
<a name="wp16xxx" id="wp16xxx"></a>
<p class="pBody"><code class="cCode">jobjectRefType
GetObjectRefType(JNIEnv* env, jobject obj);</code></p>
<a name="wp16462" id="wp16462"></a>
<p class="pBody"></p>
<p>Returns the type of the object referred to by the
<code>obj</code> argument. The argument <code>obj</code> can either
be a local, global or weak global reference.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 232 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<p class="pBody"><code class="cCode">obj</code>: a local, global or
weak global reference.<br />
<br />
<code class="cCode">vm</code>: the virtual machine instance from
which the interface will be retrieved.<br />
<br />
<code class="cCode">env</code>: pointer to the location where the
JNI interface pointer for the current thread will be placed.<br />
<br />
<code class="cCode">version</code>: the requested JNI version.</p>
<h4 class="pHeading4">RETURNS:</h4>
<p class="pBody"></p>
<p>The function <code class="cCode">GetObjectRefType</code> returns
one of the following enumerated values defined as a <code class=
"cCode">jobjectRefType</code>:</p>
<code class="cCode">JNIInvalidRefType = 0,</code><br />
<code class="cCode">JNILocalRefType = 1,</code><br />
<code class="cCode">JNIGlobalRefType = 2,</code><br />
<code class="cCode">JNIWeakGlobalRefType = 3</code>
<p>If the argument <code>obj</code> is a weak global reference
type, the return will be <code class=
"cCode">JNIWeakGlobalRefType</code>.</p>
<p>If the argument <code>obj</code> is a global reference type, the
return value will be <code class=
"cCode">JNIGlobalRefType</code>.</p>
<p>If the argument <code>obj</code> is a local reference type, the
return will be <code class="cCode">JNILocalRefType</code>.</p>
<p>If the <code>obj</code> argument is not a valid reference, the
return value for this function will be <code class=
"cCode">JNIInvalidRefType</code>.</p>
<p>An invalid reference is a reference which is not a valid handle.
That is, the <code>obj</code> pointer address does not point to a
location in memory which has been allocated from one of the Ref
creation functions or returned from a JNI function.</p>
<p>As such, <code class="cCode">NULL</code> would be an invalid
reference and <code class="cCode">GetObjectRefType(env,NULL)</code>
would return <code class="cCode">JNIInvalidRefType</code>.</p>
<p>On the other hand, a null reference, which is a reference that
points to a null, would return the type of reference that the null
reference was originally created as.</p>
<p><code class="cCode">GetObjectRefType</code> cannot be used on
deleted references.</p>
<p>Since references are typically implemented as pointers to memory
data structures that can potentially be reused by any of the
reference allocation services in the VM, once deleted, it is not
specified what value the <code class=
"cCode">GetObjectRefType</code> will return.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.6</p>
<!-- ********** end getobjectreftype v6 stuff ************** -->
<a name="wp16472" id="wp16472"></a>
<h3 class="pHeading2">IsInstanceOf</h3>
<a name="wp16476" id="wp16476"></a>
<p class="pBody"><code class="cCode">jboolean IsInstanceOf(JNIEnv
*env, jobject obj,<br />
jclass clazz);</code></p>
<a name="wp16480" id="wp16480"></a>
<p class="pBody">Tests whether an object is an instance of a
class.</p>
<p><a name="wp18855" id="wp18855"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 32 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18856" id="wp18856"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18861" id="wp18861"></a>
<p class="pBody"><code class="cCode">obj</code>: a Java object.</p>
<a name="wp18863" id="wp18863"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp18858" id="wp18858"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp16481" id="wp16481"></a>
<p class="pBody">Returns <code class="cCode">JNI_TRUE</code> if
<code class="cCode">obj</code> can be cast to <code class=
"cCode">clazz</code>; otherwise, returns <code class=
"cCode">JNI_FALSE</code>. A <code class="cCode">NULL</code> object
can be cast to any class.</p>
<a name="wp16514" id="wp16514"></a>
<h3 class="pHeading2">IsSameObject</h3>
<a name="wp16518" id="wp16518"></a>
<p class="pBody"><code class="cCode">jboolean IsSameObject(JNIEnv
*env, jobject ref1,<br />
jobject ref2);</code></p>
<a name="wp16522" id="wp16522"></a>
<p class="pBody">Tests whether two references refer to the same
Java object.</p>
<p><a name="wp18896" id="wp18896"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 24 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18897" id="wp18897"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18898" id="wp18898"></a>
<p class="pBody"><code class="cCode">ref1</code>: a Java
object.</p>
<a name="wp18899" id="wp18899"></a>
<p class="pBody"><code class="cCode">ref2</code>: a Java
object.</p>
<a name="wp18900" id="wp18900"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp18901" id="wp18901"></a>
<p class="pBody">Returns <code class="cCode">JNI_TRUE</code> if
<code class="cCode">ref1</code> and <code class="cCode">ref2</code>
refer to the same Java object, or are both <code class=
"cCode">NULL</code>; otherwise, returns <code class=
"cCode">JNI_FALSE</code>.</p>
<a name="wp16536" id="wp16536"></a>
<h2 class="pHeading1">Accessing Fields of Objects</h2>
<a name="wp16540" id="wp16540"></a>
<h3 class="pHeading2">GetFieldID</h3>
<a name="wp18916" id="wp18916"></a>
<p class="pBody"><code class="cCode">jfieldID GetFieldID(JNIEnv
*env, jclass clazz,<br />
const char *name, const char *sig);</code></p>
<a name="wp4199" id="wp4199"></a>
<p class="pBody">Returns the field ID for an instance (nonstatic)
field of a class. The field is specified by its name and signature.
The <em class="cEmphasis">Get&lt;type&gt;Field</em> and <em class=
"cEmphasis">Set&lt;type&gt;Field</em> families of accessor
functions use field IDs to retrieve object fields.</p>
<a name="wp5991" id="wp5991"></a>
<p class="pBody"><code class="cCode">GetFieldID()</code> causes an
uninitialized class to be initialized.</p>
<a name="wp5783" id="wp5783"></a>
<p class="pBody"><code class="cCode">GetFieldID()</code> cannot be
used to obtain the length field of an array. Use <code class=
"cCode">GetArrayLength()</code> instead.</p>
<p><a name="wp18928" id="wp18928"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 94 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp18929" id="wp18929"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp18930" id="wp18930"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp18935" id="wp18935"></a>
<p class="pBody"><code class="cCode">name</code>: the field name in
a 0-terminated modified UTF-8 string.</p>
<a name="wp18937" id="wp18937"></a>
<p class="pBody"><code class="cCode">sig</code>: the field
signature in a 0-terminated modified UTF-8 string.</p>
<a name="wp18932" id="wp18932"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp16552" id="wp16552"></a>
<p class="pBody">Returns a field ID, or <code class=
"cCode">NULL</code> if the operation fails.</p>
<a name="wp16560" id="wp16560"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp18944" id="wp18944"></a>
<p class="pBody"><code class="cCode">NoSuchFieldError</code>: if
the specified field cannot be found.</p>
<a name="wp5992" id="wp5992"></a>
<p class="pBody"><code class=
"cCode">ExceptionInInitializerError</code>: if the class
initializer fails due to an exception.</p>
<a name="wp5998" id="wp5998"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp16572" id="wp16572"></a>
<h3 class="pHeading2">Get&lt;type&gt;Field Routines</h3>
<a name="wp16576" id="wp16576"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">Get&lt;type&gt;Field</em><code class="cCode">(JNIEnv
*env, jobject obj,<br />
jfieldID fieldID);</code></p>
<a name="wp3691" id="wp3691"></a>
<p class="pBody">This family of accessor routines returns the value
of an instance (nonstatic) field of an object. The field to access
is specified by a field ID obtained by calling <code class=
"cCode">GetFieldID()</code>.</p>
<a name="wp3766" id="wp3766"></a>
<p class="pBody">The following table describes the
Get&lt;type&gt;Field routine name and result type. You should
replace <em class="cEmphasis">type</em> in <em class=
"cEmphasis">Get&lt;type&gt;Field</em> with the Java type of the
field, or use one of the actual routine names from the table, and
replace <em class="cEmphasis">NativeType</em> with the
corresponding native type for that routine.</p>
<a name="wp4033" id="wp4033"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-1a Get&lt;type&gt;Field
Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"Get &lt;type&gt;Field Family of Accessor Routine" id="wp5526">
<caption><a name="wp5526" id="wp5526"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5530" id="wp5530"></a>
<div style="text-align: left;" class="pTableHead">
Get&lt;type&gt;Field Routine Name</div>
</th>
<th><a name="wp5532" id="wp5532"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5534" id="wp5534"></a>
<div class="pTableText"><code class=
"cCode">GetObjectField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5536" id="wp5536"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5538" id="wp5538"></a>
<div class="pTableText"><code class=
"cCode">GetBooleanField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5540" id="wp5540"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5542" id="wp5542"></a>
<div class="pTableText"><code class=
"cCode">GetByteField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5544" id="wp5544"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5546" id="wp5546"></a>
<div class="pTableText"><code class=
"cCode">GetCharField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5548" id="wp5548"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5550" id="wp5550"></a>
<div class="pTableText"><code class=
"cCode">GetShortField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5552" id="wp5552"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5554" id="wp5554"></a>
<div class="pTableText"><code class=
"cCode">GetIntField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5556" id="wp5556"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5558" id="wp5558"></a>
<div class="pTableText"><code class=
"cCode">GetLongField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5560" id="wp5560"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5562" id="wp5562"></a>
<div class="pTableText"><code class=
"cCode">GetFloatField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5564" id="wp5564"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5566" id="wp5566"></a>
<div class="pTableText"><code class=
"cCode">GetDoubleField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5568" id="wp5568"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp3767" id="wp3767"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Indices in the JNIEnv interface function table:
<div class="pTableCaption">Table&nbsp;4-1b Get&lt;type&gt;Field
Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"Get &lt;type&gt;Field Family of Accessor Routine" id="wp5526-2">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Get&lt;type&gt;Field Routine Name</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetObjectField()</code></div>
</td>
<td align="left" valign="top">95</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetBooleanField()</code></div>
</td>
<td align="left" valign="top">96</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetByteField()</code></div>
</td>
<td align="left" valign="top">97</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetCharField()</code></div>
</td>
<td align="left" valign="top">98</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetShortField()</code></div>
</td>
<td align="left" valign="top">99
<div class="pTableText"></div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetIntField()</code></div>
</td>
<td align="left" valign="top">100</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetLongField()</code></div>
</td>
<td align="left" valign="top">101</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetFloatField()</code></div>
</td>
<td align="left" valign="top">102
<div class="pTableText"></div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetDoubleField()</code></div>
</td>
<td align="left" valign="top">103
<div class="pTableText"></div>
</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp19123" id="wp19123"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp19124" id="wp19124"></a>
<p class="pBody"><code class="cCode">obj</code>: a Java object
(must not be <code class="cCode">NULL</code>).</p>
<a name="wp19125" id="wp19125"></a>
<p class="pBody"><code class="cCode">fieldID</code>: a valid field
ID.</p>
<a name="wp19127" id="wp19127"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp19130" id="wp19130"></a>
<p class="pBody">Returns the content of the field.</p>
<a name="wp16613" id="wp16613"></a>
<h3 class="pHeading2">Set&lt;type&gt;Field Routines</h3>
<a name="wp16617" id="wp16617"></a>
<p class="pBody"><code class="cCode">void</code> <em class=
"cEmphasis">Set&lt;type&gt;Field</em><code class="cCode">(JNIEnv
*env, jobject obj, jfieldID fieldID,<br /></code> <em class=
"cEmphasis">NativeType</em> <code class="cCode">value);</code></p>
<a name="wp16622" id="wp16622"></a>
<p class="pBody">This family of accessor routines sets the value of
an instance (nonstatic) field of an object. The field to access is
specified by a field ID obtained by calling <code class=
"cCode">GetFieldID()</code>.</p>
<a name="wp16626" id="wp16626"></a>
<p class="pBody">The following table describes the
Set&lt;type&gt;Field routine name and value type. You should
replace <em class="cEmphasis">type</em> in <em class=
"cEmphasis">Set&lt;type&gt;Field</em> with the Java type of the
field, or use one of the actual routine names from the table, and
replace <em class="cEmphasis">NativeType</em> with the
corresponding native type for that routine.</p>
<a name="wp4050" id="wp4050"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-2a Set&lt;type&gt;Field
Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"Set &lt;type&gt;Fielf Family of Accessor Routine" id="wp5570">
<caption><a name="wp5570" id="wp5570"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5574" id="wp5574"></a>
<div style="text-align: left;" class="pTableHead">
Set&lt;type&gt;Field Routine</div>
</th>
<th><a name="wp5576" id="wp5576"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5578" id="wp5578"></a>
<div class="pTableText"><code class=
"cCode">SetObjectField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5580" id="wp5580"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5582" id="wp5582"></a>
<div class="pTableText">S<code class=
"cCode">etBooleanField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5584" id="wp5584"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5586" id="wp5586"></a>
<div class="pTableText"><code class=
"cCode">SetByteField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5588" id="wp5588"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5590" id="wp5590"></a>
<div class="pTableText"><code class=
"cCode">SetCharField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5592" id="wp5592"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5594" id="wp5594"></a>
<div class="pTableText"><code class=
"cCode">SetShortField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5596" id="wp5596"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5598" id="wp5598"></a>
<div class="pTableText"><code class=
"cCode">SetIntField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5600" id="wp5600"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5602" id="wp5602"></a>
<div class="pTableText"><code class=
"cCode">SetLongField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5604" id="wp5604"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5606" id="wp5606"></a>
<div class="pTableText"><code class=
"cCode">SetFloatField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5608" id="wp5608"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5610" id="wp5610"></a>
<div class="pTableText"><code class=
"cCode">SetDoubleField()</code></div>
</td>
<td align="left" valign="top"><a name="wp5612" id="wp5612"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp19440" id="wp19440"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-2b Set&lt;type&gt;Field
Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"Set &lt;type&gt;Fielf Family of Accessor Routine" id="wp5570">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Set&lt;type&gt;Field Routine</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetObjectField()</code></div>
</td>
<td align="left" valign="top">104</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText">S<code class=
"cCode">etBooleanField()</code></div>
</td>
<td align="left" valign="top">105</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetByteField()</code></div>
</td>
<td align="left" valign="top">106</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetCharField()</code></div>
</td>
<td align="left" valign="top">107
<div class="pTableText"></div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetShortField()</code></div>
</td>
<td align="left" valign="top">108</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetIntField()</code></div>
</td>
<td align="left" valign="top">109</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetLongField()</code></div>
</td>
<td align="left" valign="top">110</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetFloatField()</code></div>
</td>
<td align="left" valign="top">111
<div class="pTableText"></div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetDoubleField()</code></div>
</td>
<td align="left" valign="top">112</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp19441" id="wp19441"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp19442" id="wp19442"></a>
<p class="pBody"><code class="cCode">obj</code>: a Java object
(must not be <code class="cCode">NULL</code>).</p>
<a name="wp19454" id="wp19454"></a>
<p class="pBody"><code class="cCode">fieldID</code>: a valid field
ID.</p>
<a name="wp19457" id="wp19457"></a>
<p class="pBody"><code class="cCode">value</code>: the new value of
the field.</p>
<a name="wp16656" id="wp16656"></a>
<h2 class="pHeading1">Calling Instance Methods</h2>
<a name="wp16660" id="wp16660"></a>
<h3 class="pHeading2">GetMethodID</h3>
<a name="wp16664" id="wp16664"></a>
<p class="pBody"><code class="cCode">jmethodID GetMethodID(JNIEnv
*env, jclass clazz,<br />
const char *name, const char *sig);</code></p>
<a name="wp16668" id="wp16668"></a>
<p class="pBody">Returns the method ID for an instance (nonstatic)
method of a class or interface. The method may be defined in one of
the <code class="cCode">clazz</code>&#8217;s superclasses and
inherited by <code class="cCode">clazz</code>. The method is
determined by its name and signature.</p>
<a name="wp6004" id="wp6004"></a>
<p class="pBody"><code class="cCode">GetMethodID()</code> causes an
uninitialized class to be initialized.</p>
<a name="wp23206" id="wp23206"></a>
<p class="pBody">To obtain the method ID of a constructor, supply
<code class="cCode">&lt;init&gt;</code> as the method name and
<code class="cCode">void</code> (<code class="cCode">V</code>) as
the return type.</p>
<p><a name="wp19485" id="wp19485"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 33 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp19486" id="wp19486"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp3783" id="wp3783"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<p class="pBody"><code class="cCode">name</code>: the method name
in a 0-terminated modified UTF-8 string.</p>
<a name="wp3785" id="wp3785"></a>
<p class="pBody"><code class="cCode">sig</code>: the method
signature in 0-terminated modified UTF-8 string.</p>
<a name="wp19490" id="wp19490"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp19491" id="wp19491"></a>
<p class="pBody">Returns a method ID, or <code class=
"cCode">NULL</code> if the specified method cannot be found.</p>
<a name="wp19492" id="wp19492"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp19493" id="wp19493"></a>
<p class="pBody"><code class="cCode">NoSuchMethodError</code>: if
the specified method cannot be found.</p>
<a name="wp6021" id="wp6021"></a>
<p class="pBody"><code class=
"cCode">ExceptionInInitializerError</code>: if the class
initializer fails due to an exception.</p>
<a name="wp6022" id="wp6022"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp4256" id="wp4256"></a>
<h3 class="pHeading2">Call&lt;type&gt;Method Routines<br />
Call&lt;type&gt;MethodA Routines<br />
Call&lt;type&gt;MethodV Routines</h3>
<a name="wp5337" id="wp5337"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">Call&lt;type&gt;Method</em><code class="cCode">(JNIEnv
*env, jobject obj,<br />
jmethodID methodID, ...);</code></p>
<a name="wp4277" id="wp4277"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">Call&lt;type&gt;MethodA</em><code class="cCode">(JNIEnv
*env, jobject obj,<br />
jmethodID methodID, const jvalue *args);</code></p>
<a name="wp4279" id="wp4279"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">Call&lt;type&gt;MethodV</em><code class="cCode">(JNIEnv
*env, jobject obj,<br />
jmethodID methodID, va_list args);</code></p>
<a name="wp19682" id="wp19682"></a>
<p class="pBody">Methods from these three families of operations
are used to call a Java instance method from a native method.They
only differ in their mechanism for passing parameters to the
methods that they call.</p>
<a name="wp4302" id="wp4302"></a>
<p class="pBody">These families of operations invoke an instance
(nonstatic) method on a Java object, according to the specified
method ID. The <code class="cCode">methodID</code> argument must be
obtained by calling <code class=
"cCode">GetMethodID</code><code class="cCode">()</code>.</p>
<a name="wp23729" id="wp23729"></a>
<p class="pBody">When these functions are used to call private
methods and constructors, the method ID must be derived from the
real class of <code class="cCode">obj</code>, not from one of its
superclasses.</p>
<a name="wp4317" id="wp4317"></a>
<h4 class="pHeading4">Call&lt;type&gt;Method Routines</h4>
<a name="wp4305" id="wp4305"></a>
<p class="pBody">Programmers place all arguments that are to be
passed to the method immediately following the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">Call&lt;type&gt;Method</em> routine accepts these
arguments and passes them to the Java method that the programmer
wishes to invoke.</p>
<a name="wp4307" id="wp4307"></a>
<h4 class="pHeading4">Call&lt;type&gt;MethodA Routines</h4>
<a name="wp4312" id="wp4312"></a>
<p class="pBody">Programmers place all arguments to the method in
an <code class="cCode">args</code> array of <code class=
"cCode">jvalues</code> that immediately follows the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">Call&lt;type&gt;MethodA</em> routine accepts the
arguments in this array, and, in turn, passes them to the Java
method that the programmer wishes to invoke.</p>
<a name="wp4309" id="wp4309"></a>
<h4 class="pHeading4">Call&lt;type&gt;MethodV Routines</h4>
<a name="wp4314" id="wp4314"></a>
<p class="pBody">Programmers place all arguments to the method in
an <code class="cCode">args</code> argument of type <code class=
"cCode">va_list</code> that immediately follows the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">Call&lt;type&gt;MethodV</em> routine accepts the
arguments, and, in turn, passes them to the Java method that the
programmer wishes to invoke.</p>
<a name="wp3830" id="wp3830"></a>
<p class="pBody">The following table describes each of the method
calling routines according to their result type. You should replace
<em class="cEmphasis">type</em> in <em class=
"cEmphasis">Call&lt;type&gt;Method</em> with the Java type of the
method you are calling (or use one of the actual method calling
routine names from the table) and replace <em class=
"cEmphasis">NativeType</em> with the corresponding native type for
that routine.</p>
<a name="wp4049" id="wp4049"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-3a Instance Method Calling
Routines</div>
<table border="0" cellpadding="7" summary=
"Instance Method Calling Routines" id="wp5390">
<caption><a name="wp5390" id="wp5390"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5394" id="wp5394"></a>
<div style="text-align: left;" class="pTableHead">
Call&lt;type&gt;Method Routine Name</div>
</th>
<th><a name="wp5396" id="wp5396"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5398" id="wp5398"></a>
<div class="pTableText"><code class=
"cCode">CallVoidMethod()</code></div>
<a name="wp5399" id="wp5399"></a>
<div class="pTableText"><code class=
"cCode">CallVoidMethodA()</code></div>
<a name="wp5400" id="wp5400"></a>
<div class="pTableText"><code class=
"cCode">CallVoidMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5402" id="wp5402"></a>
<div class="pTableText">void</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5404" id="wp5404"></a>
<div class="pTableText"><code class=
"cCode">CallObjectMethod()</code></div>
<a name="wp5405" id="wp5405"></a>
<div class="pTableText"><code class=
"cCode">CallObjectMethodA()</code></div>
<a name="wp5406" id="wp5406"></a>
<div class="pTableText"><code class=
"cCode">CallObjectMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5408" id="wp5408"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5410" id="wp5410"></a>
<div class="pTableText"><code class=
"cCode">CallBooleanMethod()</code></div>
<a name="wp5411" id="wp5411"></a>
<div class="pTableText"><code class=
"cCode">CallBooleanMethodA()</code></div>
<a name="wp5412" id="wp5412"></a>
<div class="pTableText"><code class=
"cCode">CallBooleanMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5414" id="wp5414"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5416" id="wp5416"></a>
<div class="pTableText"><code class=
"cCode">CallByteMethod()</code></div>
<a name="wp5417" id="wp5417"></a>
<div class="pTableText"><code class=
"cCode">CallByteMethodA()</code></div>
<a name="wp5418" id="wp5418"></a>
<div class="pTableText"><code class=
"cCode">CallByteMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5420" id="wp5420"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5422" id="wp5422"></a>
<div class="pTableText"><code class=
"cCode">CallCharMethod()</code></div>
<a name="wp5423" id="wp5423"></a>
<div class="pTableText"><code class=
"cCode">CallCharMethodA()</code></div>
<a name="wp5424" id="wp5424"></a>
<div class="pTableText"><code class=
"cCode">CallCharMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5426" id="wp5426"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5428" id="wp5428"></a>
<div class="pTableText"><code class=
"cCode">CallShortMethod()</code></div>
<a name="wp5429" id="wp5429"></a>
<div class="pTableText"><code class=
"cCode">CallShortMethodA()</code></div>
<a name="wp5430" id="wp5430"></a>
<div class="pTableText"><code class=
"cCode">CallShortMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5432" id="wp5432"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5434" id="wp5434"></a>
<div class="pTableText"><code class=
"cCode">CallIntMethod()</code></div>
<a name="wp5435" id="wp5435"></a>
<div class="pTableText"><code class=
"cCode">CallIntMethodA()</code></div>
<a name="wp5436" id="wp5436"></a>
<div class="pTableText"><code class=
"cCode">CallIntMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5438" id="wp5438"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5440" id="wp5440"></a>
<div class="pTableText"><code class=
"cCode">CallLongMethod()</code></div>
<a name="wp5441" id="wp5441"></a>
<div class="pTableText"><code class=
"cCode">CallLongMethodA()</code></div>
<a name="wp5442" id="wp5442"></a>
<div class="pTableText"><code class=
"cCode">CallLongMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5444" id="wp5444"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5446" id="wp5446"></a>
<div class="pTableText"><code class=
"cCode">CallFloatMethod()</code></div>
<a name="wp5447" id="wp5447"></a>
<div class="pTableText"><code class=
"cCode">CallFloatMethodA()</code></div>
<a name="wp5448" id="wp5448"></a>
<div class="pTableText"><code class=
"cCode">CallFloatMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5450" id="wp5450"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5452" id="wp5452"></a>
<div class="pTableText"><code class=
"cCode">CallDoubleMethod()</code></div>
<a name="wp5453" id="wp5453"></a>
<div class="pTableText"><code class=
"cCode">CallDoubleMethodA()</code></div>
<a name="wp5454" id="wp5454"></a>
<div class="pTableText"><code class=
"cCode">CallDoubleMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5456" id="wp5456"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp4356" id="wp4356"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table:</p>
<div class="pTableCaption">Table&nbsp;4-3b Instance Method Calling
Routines</div>
<table border="0" cellpadding="7" summary=
"Instance Method Calling Routines" id="wp5390">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Call&lt;type&gt;Method Routine Name</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallVoidMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallVoidMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallVoidMethodV()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">
<p>61<br />
63<br />
62</p>
</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallObjectMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallObjectMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallObjectMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>34<br />
36<br />
35</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallBooleanMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallBooleanMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallBooleanMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>37<br />
39<br />
38</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallByteMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallByteMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallByteMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>40<br />
42<br />
41</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallCharMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallCharMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallCharMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>43<br />
45<br />
44</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallShortMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallShortMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallShortMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>46<br />
48<br />
47</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallIntMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallIntMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallIntMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>49<br />
51<br />
50</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallLongMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallLongMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallLongMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>52<br />
54<br />
53</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallFloatMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallFloatMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallFloatMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>55<br />
57<br />
56</p>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallDoubleMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallDoubleMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallDoubleMethodV()</code></div>
</td>
<td align="left" valign="top">
<p>58<br />
60<br />
59</p>
</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp4337" id="wp4337"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp4338" id="wp4338"></a>
<p class="pBody"><code class="cCode">obj</code>: a Java object.</p>
<a name="wp4339" id="wp4339"></a>
<p class="pBody"><code class="cCode">methodID</code>: a method
ID.</p>
<a name="wp5083" id="wp5083"></a>
<h4 class="pHeading4">Additional Parameter for
Call&lt;type&gt;Method Routines:</h4>
<a name="wp5084" id="wp5084"></a>
<p class="pBody">arguments to the Java method.</p>
<a name="wp5098" id="wp5098"></a>
<h4 class="pHeading4">Additional Parameter for
Call&lt;type&gt;MethodA Routines:</h4>
<a name="wp4340" id="wp4340"></a>
<p class="pBody"><code class="cCode">args</code>: an array of
arguments.</p>
<a name="wp4348" id="wp4348"></a>
<h4 class="pHeading4">Additional Parameter for
Call&lt;type&gt;MethodV Routines:</h4>
<a name="wp4350" id="wp4350"></a>
<p class="pBody"><code class="cCode">args</code>: a va_list of
arguments.</p>
<a name="wp19867" id="wp19867"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp19868" id="wp19868"></a>
<p class="pBody">Returns the result of calling the Java method.</p>
<a name="wp5870" id="wp5870"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5871" id="wp5871"></a>
<p class="pBody"><code class="cCode">Exceptions raised during the
execution of the Java method.</code></p>
<a name="wp4581" id="wp4581"></a>
<h3 class="pHeading2">CallNonvirtual&lt;type&gt;Method
Routines<br />
CallNonvirtual&lt;type&gt;MethodA Routines<br />
CallNonvirtual&lt;type&gt;MethodV Routines</h3>
<a name="wp20106" id="wp20106"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;Method</em><code class=
"cCode">(JNIEnv *env, jobject obj,<br />
jclass clazz, jmethodID methodID, ...);</code></p>
<a name="wp4605" id="wp4605"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;MethodA</em><code class=
"cCode">(JNIEnv *env, jobject obj,<br />
jclass clazz, jmethodID methodID, const jvalue *args);</code></p>
<a name="wp4607" id="wp4607"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;MethodV</em><code class=
"cCode">(JNIEnv *env, jobject obj,<br />
jclass clazz, jmethodID methodID, va_list args);</code></p>
<a name="wp3988" id="wp3988"></a>
<p class="pBody">These families of operations invoke an instance
(nonstatic) method on a Java object, according to the specified
class and method ID. The <code class="cCode">methodID</code>
argument must be obtained by calling <code class=
"cCode">GetMethodID</code><code class="cCode">()</code> on the
class <code class="cCode">clazz</code>.</p>
<a name="wp5110" id="wp5110"></a>
<p class="pBody">The <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;Method</em> families of
routines and the <em class="cEmphasis">Call&lt;type&gt;Method</em>
families of routines are different. <em class=
"cEmphasis">Call&lt;type&gt;Method</em> routines invoke the method
based on the class of the object, while <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;Method</em> routines invoke
the method based on the class, designated by the <code class=
"cCode">clazz</code> parameter, from which the method ID is
obtained. The method ID must be obtained from the real class of the
object or from one of its superclasses.</p>
<a name="wp4599" id="wp4599"></a>
<h4 class="pHeading4">CallNonvirtual&lt;type&gt;Method
Routines</h4>
<a name="wp5103" id="wp5103"></a>
<p class="pBody">Programmers place all arguments that are to be
passed to the method immediately following the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;Method</em> routine accepts
these arguments and passes them to the Java method that the
programmer wishes to invoke.</p>
<a name="wp5104" id="wp5104"></a>
<h4 class="pHeading4">CallNonvirtual&lt;type&gt;MethodA
Routines</h4>
<a name="wp5106" id="wp5106"></a>
<p class="pBody">Programmers place all arguments to the method in
an <code class="cCode">args</code> array of <code class=
"cCode">jvalues</code> that immediately follows the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;MethodA</em> routine accepts
the arguments in this array, and, in turn, passes them to the Java
method that the programmer wishes to invoke.</p>
<a name="wp4614" id="wp4614"></a>
<h4 class="pHeading4">CallNonvirtual&lt;type&gt;MethodV
Routines</h4>
<a name="wp4620" id="wp4620"></a>
<p class="pBody">Programmers place all arguments to the method in
an <code class="cCode">args</code> argument of type <code class=
"cCode">va_list</code> that immediately follows the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">CallNonvirtualMethodV</em> routine accepts the
arguments, and, in turn, passes them to the Java method that the
programmer wishes to invoke.</p>
<a name="wp4613" id="wp4613"></a>
<p class="pBody">The following table describes each of the method
calling routines according to their result type. You should replace
<em class="cEmphasis">type</em> in <em class=
"cEmphasis">CallNonvirtual&lt;type&gt;Method</em> with the Java
type of the method, or use one of the actual method calling routine
names from the table, and replace <em class=
"cEmphasis">NativeType</em> with the corresponding native type for
that routine.</p>
<a name="wp4061" id="wp4061"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-4a
CallNonvirtual&lt;type&gt;Method Routines</div>
<table border="0" cellpadding="7" summary=
"CallNonvirtual&lt;type&gt; Method Routines" id="wp5458">
<caption><a name="wp5458" id="wp5458"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5462" id="wp5462"></a>
<div style="text-align: left;" class="pTableHead">
CallNonvirtual&lt;type&gt;Method Routine Name</div>
</th>
<th><a name="wp5464" id="wp5464"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5466" id="wp5466"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualVoidMethod()</code></div>
<a name="wp5467" id="wp5467"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualVoidMethodA()</code></div>
<a name="wp5468" id="wp5468"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualVoidMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5470" id="wp5470"></a>
<div class="pTableText">void</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5472" id="wp5472"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualObjectMethod()</code></div>
<a name="wp5473" id="wp5473"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualObjectMethodA()</code></div>
<a name="wp5474" id="wp5474"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualObjectMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5476" id="wp5476"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5478" id="wp5478"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualBooleanMethod()</code></div>
<a name="wp5479" id="wp5479"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualBooleanMethodA()</code></div>
<a name="wp5480" id="wp5480"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualBooleanMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5482" id="wp5482"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5484" id="wp5484"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualByteMethod()</code></div>
<a name="wp5485" id="wp5485"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualByteMethodA()</code></div>
<a name="wp5486" id="wp5486"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualByteMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5488" id="wp5488"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5490" id="wp5490"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualCharMethod()</code></div>
<a name="wp5491" id="wp5491"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualCharMethodA()</code></div>
<a name="wp5492" id="wp5492"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualCharMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5494" id="wp5494"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5496" id="wp5496"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualShortMethod()</code></div>
<a name="wp5497" id="wp5497"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualShortMethodA()</code></div>
<a name="wp5498" id="wp5498"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualShortMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5500" id="wp5500"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5502" id="wp5502"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualIntMethod()</code></div>
<a name="wp5503" id="wp5503"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualIntMethodA()</code></div>
<a name="wp5504" id="wp5504"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualIntMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5506" id="wp5506"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5508" id="wp5508"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualLongMethod()</code></div>
<a name="wp5509" id="wp5509"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualLongMethodA()</code></div>
<a name="wp5510" id="wp5510"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualLongMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5512" id="wp5512"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5514" id="wp5514"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualFloatMethod()</code></div>
<a name="wp5515" id="wp5515"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualFloatMethodA()</code></div>
<a name="wp5516" id="wp5516"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualFloatMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5518" id="wp5518"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5520" id="wp5520"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualDoubleMethod()</code></div>
<a name="wp5521" id="wp5521"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualDoubleMethodA()</code></div>
<a name="wp5522" id="wp5522"></a>
<div class="pTableText"><code class=
"cCode">CallNonvirtualDoubleMethodV()</code></div>
</td>
<td align="left" valign="top"><a name="wp5524" id="wp5524"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp4086" id="wp4086"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-4b
CallNonvirtual&lt;type&gt;Method Routines</div>
<table border="0" cellpadding="7" summary=
"CallNonvirtual&lt;type&gt; Method Routines" id="wp5458">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
CallNonvirtual&lt;type&gt;Method Routine Name</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualVoidMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualVoidMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualVoidMethodV()</code></div>
</td>
<td align="left" valign="top">91<br />
93<br />
92</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualObjectMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualObjectMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualObjectMethodV()</code></div>
</td>
<td align="left" valign="top">64<br />
66<br />
65</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualBooleanMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualBooleanMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualBooleanMethodV()</code></div>
</td>
<td align="left" valign="top">67<br />
69<br />
68</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualByteMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualByteMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualByteMethodV()</code></div>
</td>
<td align="left" valign="top">70<br />
72<br />
71</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualCharMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualCharMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualCharMethodV()</code></div>
</td>
<td align="left" valign="top">73<br />
75<br />
74</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualShortMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualShortMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualShortMethodV()</code></div>
</td>
<td align="left" valign="top">76<br />
78<br />
77</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualIntMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualIntMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualIntMethodV()</code></div>
</td>
<td align="left" valign="top">79<br />
81<br />
80</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualLongMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualLongMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualLongMethodV()</code></div>
</td>
<td align="left" valign="top">82<br />
84<br />
83</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualFloatMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualFloatMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualFloatMethodV()</code></div>
</td>
<td align="left" valign="top">85<br />
87<br />
86</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallNonvirtualDoubleMethod()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualDoubleMethodA()</code></div>
<div class="pTableText"><code class=
"cCode">CallNonvirtualDoubleMethodV()</code></div>
</td>
<td align="left" valign="top">88<br />
90<br />
89</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp20184" id="wp20184"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp4836" id="wp4836"></a>
<p class="pBody"><code class="cCode">clazz:</code> <code class=
"cCode">a</code> Java class.</p>
<a name="wp20185" id="wp20185"></a>
<p class="pBody"><code class="cCode">obj</code>: a Java object.</p>
<a name="wp20186" id="wp20186"></a>
<p class="pBody"><code class="cCode">methodID</code>: a method
ID.</p>
<a name="wp5385" id="wp5385"></a>
<h4 class="pHeading4">Additional Parameter for
CallNonvirtual&lt;type&gt;Method Routines:</h4>
<a name="wp5386" id="wp5386"></a>
<p class="pBody">arguments to the Java method.</p>
<a name="wp4622" id="wp4622"></a>
<h4 class="pHeading4">Additional Parameter for
CallNonvirtual&lt;type&gt;MethodA Routines:</h4>
<a name="wp4626" id="wp4626"></a>
<p class="pBody"><code class="cCode">args</code>: an array of
arguments.</p>
<a name="wp4624" id="wp4624"></a>
<h4 class="pHeading4">Additional Parameter for
CallNonvirtual&lt;type&gt;MethodV Routines:</h4>
<a name="wp4628" id="wp4628"></a>
<p class="pBody"><code class="cCode">args</code>: a <code class=
"cCode">va_list</code> of arguments.</p>
<a name="wp5898" id="wp5898"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp5899" id="wp5899"></a>
<p class="pHeading4">Returns the result of calling the Java
method.</p>
<a name="wp5904" id="wp5904"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5905" id="wp5905"></a>
<p class="pBody">Exceptions raised during the execution of the Java
method.</p>
<a name="wp5901" id="wp5901"></a>
<h2 class="pHeading1">Accessing Static Fields</h2>
<a name="wp16823" id="wp16823"></a>
<h3 class="pHeading2">GetStaticFieldID</h3>
<a name="wp16827" id="wp16827"></a>
<p class="pBody"><code class="cCode">jfieldID
GetStaticFieldID(JNIEnv *env, jclass clazz,<br />
const char *name, const char *sig);</code></p>
<a name="wp16831" id="wp16831"></a>
<p class="pBody">Returns the field ID for a static field of a
class. The field is specified by its name and signature. The
<em class="cEmphasis">GetStatic&lt;type&gt;Field</em> and
<em class="cEmphasis">SetStatic&lt;type&gt;Field</em> families of
accessor functions use field IDs to retrieve static fields.</p>
<a name="wp6009" id="wp6009"></a>
<p class="pBody"><code class="cCode">GetStaticFieldID()</code>
causes an uninitialized class to be initialized.</p>
<p><a name="wp20734" id="wp20734"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 144 in the JNIEnv interface function table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp20735" id="wp20735"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp20736" id="wp20736"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp20737" id="wp20737"></a>
<p class="pBody"><code class="cCode">name</code>: the static field
name in a 0-terminated modified UTF-8 string.</p>
<a name="wp20738" id="wp20738"></a>
<p class="pBody"><code class="cCode">sig</code>: the field
signature in a 0-terminated modified UTF-8 string.</p>
<a name="wp20739" id="wp20739"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp20740" id="wp20740"></a>
<p class="pBody">Returns a field ID, or <code class=
"cCode">NULL</code> if the specified static field cannot be
found.</p>
<a name="wp20741" id="wp20741"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp20742" id="wp20742"></a>
<p class="pBody"><code class="cCode">NoSuchFieldError</code>: if
the specified static field cannot be found.</p>
<a name="wp6027" id="wp6027"></a>
<p class="pBody"><code class=
"cCode">ExceptionInInitializerError</code>: if the class
initializer fails due to an exception.</p>
<a name="wp6028" id="wp6028"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp20752" id="wp20752"></a>
<h3 class="pHeading2">GetStatic&lt;type&gt;Field Routines</h3>
<a name="wp20753" id="wp20753"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">GetStatic&lt;type&gt;Field</em><code class=
"cCode">(JNIEnv *env, jclass clazz,<br />
jfieldID fieldID);</code></p>
<a name="wp20754" id="wp20754"></a>
<p class="pBody">This family of accessor routines returns the value
of a static field of an object. The field to access is specified by
a field ID, which is obtained by calling <code class=
"cCode">GetStaticFieldID()</code>.</p>
<a name="wp20822" id="wp20822"></a>
<p class="pBody">The following table describes the family of get
routine names and result types. You should replace <em class=
"cEmphasis">type</em> in <em class=
"cEmphasis">GetStatic&lt;type&gt;Field</em> with the Java type of
the field, or one of the actual static field accessor routine names
from the table, and replace <em class="cEmphasis">NativeType</em>
with the corresponding native type for that routine.</p>
<a name="wp4077" id="wp4077"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-5a
GetStatic&lt;type&gt;Field Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"GetStatic&lt;type&gt;Field Family of Accessor Routines" id=
"wp5614">
<caption><a name="wp5614" id="wp5614"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5618" id="wp5618"></a>
<div style="text-align: left;" class="pTableHead">
GetStatic&lt;type&gt;Field Routine Name</div>
</th>
<th><a name="wp5620" id="wp5620"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5622" id="wp5622"></a>
<div class="pTableText"><code class=
"cCode">GetStaticObjectField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5624" id="wp5624"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5626" id="wp5626"></a>
<div class="pTableText"><code class=
"cCode">GetStaticBooleanField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5628" id="wp5628"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5630" id="wp5630"></a>
<div class="pTableText"><code class=
"cCode">GetStaticByteField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5632" id="wp5632"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5634" id="wp5634"></a>
<div class="pTableText"><code class=
"cCode">GetStaticCharField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5636" id="wp5636"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5638" id="wp5638"></a>
<div class="pTableText"><code class=
"cCode">GetStaticShortField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5640" id="wp5640"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5642" id="wp5642"></a>
<div class="pTableText"><code class=
"cCode">GetStaticIntField</code><code class="cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5644" id="wp5644"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5646" id="wp5646"></a>
<div class="pTableText"><code class=
"cCode">GetStaticLongField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5648" id="wp5648"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5650" id="wp5650"></a>
<div class="pTableText"><code class=
"cCode">GetStaticFloatField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5652" id="wp5652"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5654" id="wp5654"></a>
<div class="pTableText"><code class=
"cCode">GetStaticDoubleField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5656" id="wp5656"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp20823" id="wp20823"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-5b
GetStatic&lt;type&gt;Field Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"GetStatic&lt;type&gt;Field Family of Accessor Routines" id=
"wp5614">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
GetStatic&lt;type&gt;Field Routine Name</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticObjectField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">145</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticBooleanField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">146</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticByteField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">147</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticCharField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">148</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticShortField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">149</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticIntField</code><code class="cCode">()</code></div>
</td>
<td align="left" valign="top">150</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticLongField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">151</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticFloatField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">152</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetStaticDoubleField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">153</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp20824" id="wp20824"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp20825" id="wp20825"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp20826" id="wp20826"></a>
<p class="pBody"><code class="cCode">fieldID</code>: a static field
ID.</p>
<a name="wp20827" id="wp20827"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp20828" id="wp20828"></a>
<p class="pBody">Returns the content of the static field.</p>
<a name="wp20829" id="wp20829"></a>
<h3 class="pHeading2">SetStatic&lt;type&gt;Field Routines</h3>
<a name="wp20830" id="wp20830"></a>
<p class="pBody"><code class="cCode">void</code> <em class=
"cEmphasis">SetStatic&lt;type&gt;Field</em><code class=
"cCode">(JNIEnv *env, jclass clazz,<br />
jfieldID fieldID,</code> <em class="cEmphasis">NativeType</em>
<code class="cCode">value);</code></p>
<a name="wp20831" id="wp20831"></a>
<p class="pBody">This family of accessor routines sets the value of
a static field of an object. The field to access is specified by a
field ID, which is obtained by calling <code class=
"cCode">GetStaticFieldID()</code>.</p>
<a name="wp20899" id="wp20899"></a>
<p class="pBody">The following table describes the set routine name
and value types. You should replace <em class="cEmphasis">type</em>
in <em class="cEmphasis">SetStatic&lt;type&gt;Field</em> with the
Java type of the field, or one of the actual set static field
routine names from the table, and replace <em class=
"cEmphasis">NativeType</em> with the corresponding native type for
that routine.</p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-6a
SetStatic&lt;type&gt;Field Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"SetStatic&lt;type&gt;Field Family of Accessor Routines" id=
"wp5658">
<caption><a name="wp5658" id="wp5658"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5662" id="wp5662"></a>
<div style="text-align: left;" class="pTableHead">
SetStatic&lt;type&gt;Field Routine Name</div>
</th>
<th><a name="wp5664" id="wp5664"></a>
<div style="text-align: left;" class="pTableHead">NativeType</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5666" id="wp5666"></a>
<div class="pTableText"><code class=
"cCode">SetStaticObjectField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5668" id="wp5668"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5670" id="wp5670"></a>
<div class="pTableText"><code class=
"cCode">SetStaticBooleanField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5672" id="wp5672"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5674" id="wp5674"></a>
<div class="pTableText"><code class=
"cCode">SetStaticByteField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5676" id="wp5676"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5678" id="wp5678"></a>
<div class="pTableText"><code class=
"cCode">SetStaticCharField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5680" id="wp5680"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5682" id="wp5682"></a>
<div class="pTableText"><code class=
"cCode">SetStaticShortField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5684" id="wp5684"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5686" id="wp5686"></a>
<div class="pTableText"><code class=
"cCode">SetStaticIntField</code><code class="cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5688" id="wp5688"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5690" id="wp5690"></a>
<div class="pTableText"><code class=
"cCode">SetStaticLongField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5692" id="wp5692"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5694" id="wp5694"></a>
<div class="pTableText"><code class=
"cCode">SetStaticFloatField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5696" id="wp5696"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5698" id="wp5698"></a>
<div class="pTableText"><code class=
"cCode">SetStaticDoubleField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top"><a name="wp5700" id="wp5700"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp20900" id="wp20900"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-6b
SetStatic&lt;type&gt;Field Family of Accessor Routines</div>
<table border="0" cellpadding="7" summary=
"SetStatic&lt;type&gt;Field Family of Accessor Routines" id=
"wp5658">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
SetStatic&lt;type&gt;Field Routine Name</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticObjectField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">154</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticBooleanField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">155</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticByteField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">156</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticCharField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">157</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticShortField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">158</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticIntField</code><code class="cCode">()</code></div>
</td>
<td align="left" valign="top">159</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticLongField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">160</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticFloatField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">161</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetStaticDoubleField</code><code class=
"cCode">()</code></div>
</td>
<td align="left" valign="top">162</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp20901" id="wp20901"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp20902" id="wp20902"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp20903" id="wp20903"></a>
<p class="pBody"><code class="cCode">fieldID</code>: a static field
ID.</p>
<a name="wp20904" id="wp20904"></a>
<p class="pBody"><code class="cCode">value</code>: the new value of
the field.</p>
<a name="wp20949" id="wp20949"></a>
<h2 class="pHeading1">Calling Static Methods</h2>
<a name="wp20950" id="wp20950"></a>
<h3 class="pHeading2">GetStaticMethodID</h3>
<a name="wp20951" id="wp20951"></a>
<p class="pBody"><code class="cCode">jmethodID
GetStaticMethodID(JNIEnv *env, jclass clazz,<br />
const char *name, const char *sig);</code></p>
<a name="wp20952" id="wp20952"></a>
<p class="pBody">Returns the method ID for a static method of a
class. The method is specified by its name and signature.</p>
<a name="wp6014" id="wp6014"></a>
<p class="pBody"><code class="cCode">GetStaticMethodID()</code>
causes an uninitialized class to be initialized.</p>
<p><a name="wp20953" id="wp20953"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 113 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp20954" id="wp20954"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp20955" id="wp20955"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp20956" id="wp20956"></a>
<p class="pBody"><code class="cCode">name</code>: the static method
name in a 0-terminated modified UTF-8 string.</p>
<a name="wp20957" id="wp20957"></a>
<p class="pBody"><code class="cCode">sig</code>: the method
signature in a 0-terminated modified UTF-8 string.</p>
<a name="wp20958" id="wp20958"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp20959" id="wp20959"></a>
<p class="pBody">Returns a method ID, or <code class=
"cCode">NULL</code> if the operation fails.</p>
<a name="wp20960" id="wp20960"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp20961" id="wp20961"></a>
<p class="pBody"><code class="cCode">NoSuchMethodError</code>: if
the specified static method cannot be found.</p>
<a name="wp6033" id="wp6033"></a>
<p class="pBody"><code class=
"cCode">ExceptionInInitializerError</code>: if the class
initializer fails due to an exception.</p>
<a name="wp6034" id="wp6034"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp4796" id="wp4796"></a>
<h3 class="pHeading2">CallStatic&lt;type&gt;Method Routines<br />
CallStatic&lt;type&gt;MethodA Routines<br />
CallStatic&lt;type&gt;MethodV Routines</h3>
<a name="wp20963" id="wp20963"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">CallStatic&lt;type&gt;Method</em><code class=
"cCode">(JNIEnv *env, jclass clazz,<br />
jmethodID methodID, ...);</code></p>
<a name="wp4821" id="wp4821"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">CallStatic&lt;type&gt;MethodA</em><code class=
"cCode">(JNIEnv *env, jclass clazz,<br />
jmethodID methodID, jvalue *args);</code></p>
<a name="wp4823" id="wp4823"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <em class=
"cEmphasis">CallStatic&lt;type&gt;MethodV</em><code class=
"cCode">(JNIEnv *env, jclass clazz,<br />
jmethodID methodID, va_list args);</code></p>
<a name="wp20964" id="wp20964"></a>
<p class="pBody">This family of operations invokes a static method
on a Java object, according to the specified method ID. The
<code class="cCode">methodID</code> argument must be obtained by
calling <code class="cCode">GetStaticMethodID</code><code class=
"cCode">()</code>.</p>
<a name="wp4496" id="wp4496"></a>
<p class="pBody">The method ID must be derived from <code class=
"cCode">clazz</code>, not from one of its superclasses.</p>
<a name="wp4360" id="wp4360"></a>
<h4 class="pHeading4">CallStatic&lt;type&gt;Method Routines</h4>
<a name="wp4808" id="wp4808"></a>
<p class="pBody">Programmers should place all arguments that are to
be passed to the method immediately following the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">CallStatic&lt;type&gt;Method</em> routine accepts these
arguments and passes them to the Java method that the programmer
wishes to invoke.</p>
<a name="wp4809" id="wp4809"></a>
<h4 class="pHeading4">CallStatic&lt;type&gt;MethodA Routines</h4>
<a name="wp4825" id="wp4825"></a>
<p class="pBody">Programmers should place all arguments to the
method in an <code class="cCode">args</code> array of <code class=
"cCode">jvalues</code> that immediately follows the <code class=
"cCode">methodID</code> argument. The <em class=
"cEmphasis">CallStaticMethodA</em> routine accepts the arguments in
this array, and, in turn, passes them to the Java method that the
programmer wishes to invoke.</p>
<a name="wp4815" id="wp4815"></a>
<h4 class="pHeading4">CallStatic&lt;type&gt;MethodV Routines</h4>
<a name="wp4827" id="wp4827"></a>
<p class="pBody">Programmers should place all arguments to the
method in an <code class="cCode">args</code> argument of type
<code class="cCode">va_list</code> that immediately follows the
<code class="cCode">methodID</code> argument. The <em class=
"cEmphasis">CallStaticMethodV</em> routine accepts the arguments,
and, in turn, passes them to the Java method that the programmer
wishes to invoke.</p>
<a name="wp4813" id="wp4813"></a>
<p class="pBody">The following table describes each of the method
calling routines according to their result types. You should
replace <em class="cEmphasis">type</em> in <em class=
"cEmphasis">CallStatic&lt;type&gt;Method</em> with the Java type of
the method, or one of the actual method calling routine names from
the table, and replace <em class="cEmphasis">NativeType</em> with
the corresponding native type for that routine.</p>
<a name="wp4094" id="wp4094"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-7a
CallStatic&lt;type&gt;Method Calling Routines</div>
<table border="0" cellpadding="7" summary=
"CallStatic&lt;type&gt;Method Calling Routines" id="wp5702">
<caption><a name="wp5702" id="wp5702"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5706" id="wp5706"></a>
<div style="text-align: left;" class="pTableHead">
CallStatic&lt;type&gt;Method Routine Name</div>
</th>
<th><a name="wp5708" id="wp5708"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5710" id="wp5710"></a>
<div class="pTableText"><code class=
"cCode">CallStaticVoidMethod</code><code class=
"cCode">()</code></div>
<a name="wp5711" id="wp5711"></a>
<div class="pTableText"><code class=
"cCode">CallStaticVoidMethodA</code><code class=
"cCode">()</code></div>
<a name="wp5712" id="wp5712"></a>
<div class="pTableText"><code class=
"cCode">CallStaticVoidMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5714" id="wp5714"></a>
<div class="pTableText">void</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5716" id="wp5716"></a>
<div class="pTableText"><code class=
"cCode">CallStaticObjectMethod</code><code class=
"cCode">()</code></div>
<a name="wp5717" id="wp5717"></a>
<div class="pTableText"><code class=
"cCode">CallStaticObjectMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5718" id="wp5718"></a>
<div class="pTableText"><code class=
"cCode">CallStaticObjectMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5720" id="wp5720"></a>
<div class="pTableText">jobject</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5722" id="wp5722"></a>
<div class="pTableText"><code class=
"cCode">CallStaticBooleanMethod</code><code class=
"cCode">()</code></div>
<a name="wp5723" id="wp5723"></a>
<div class="pTableText"><code class=
"cCode">CallStaticBooleanMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5724" id="wp5724"></a>
<div class="pTableText"><code class=
"cCode">CallStaticBooleanMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5726" id="wp5726"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5728" id="wp5728"></a>
<div class="pTableText"><code class=
"cCode">CallStaticByteMethod</code><code class=
"cCode">()</code></div>
<a name="wp5729" id="wp5729"></a>
<div class="pTableText"><code class=
"cCode">CallStaticByteMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5730" id="wp5730"></a>
<div class="pTableText"><code class=
"cCode">CallStaticByteMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5732" id="wp5732"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5734" id="wp5734"></a>
<div class="pTableText"><code class=
"cCode">CallStaticCharMethod</code><code class=
"cCode">()</code></div>
<a name="wp5735" id="wp5735"></a>
<div class="pTableText"><code class=
"cCode">CallStaticCharMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5736" id="wp5736"></a>
<div class="pTableText"><code class=
"cCode">CallStaticCharMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5738" id="wp5738"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5740" id="wp5740"></a>
<div class="pTableText"><code class=
"cCode">CallStaticShortMethod</code><code class=
"cCode">()</code></div>
<a name="wp5741" id="wp5741"></a>
<div class="pTableText"><code class=
"cCode">CallStaticShortMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5742" id="wp5742"></a>
<div class="pTableText"><code class=
"cCode">CallStaticShortMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5744" id="wp5744"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5746" id="wp5746"></a>
<div class="pTableText"><code class=
"cCode">CallStaticIntMethod</code><code class=
"cCode">()</code></div>
<a name="wp5747" id="wp5747"></a>
<div class="pTableText"><code class=
"cCode">CallStaticIntMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5748" id="wp5748"></a>
<div class="pTableText"><code class=
"cCode">CallStaticIntMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5750" id="wp5750"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5752" id="wp5752"></a>
<div class="pTableText"><code class=
"cCode">CallStaticLongMethod</code><code class=
"cCode">()</code></div>
<a name="wp5753" id="wp5753"></a>
<div class="pTableText"><code class=
"cCode">CallStaticLongMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5754" id="wp5754"></a>
<div class="pTableText"><code class=
"cCode">CallStaticLongMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5756" id="wp5756"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5758" id="wp5758"></a>
<div class="pTableText"><code class=
"cCode">CallStaticFloatMethod</code><code class=
"cCode">()</code></div>
<a name="wp5759" id="wp5759"></a>
<div class="pTableText"><code class=
"cCode">CallStaticFloatMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5760" id="wp5760"></a>
<div class="pTableText"><code class=
"cCode">CallStaticFloatMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5762" id="wp5762"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5764" id="wp5764"></a>
<div class="pTableText"><code class=
"cCode">CallStaticDoubleMethod</code><code class=
"cCode">()</code></div>
<a name="wp5765" id="wp5765"></a>
<div class="pTableText"><code class=
"cCode">CallStaticDoubleMethod</code><code class=
"cCode">A()</code></div>
<a name="wp5766" id="wp5766"></a>
<div class="pTableText"><code class=
"cCode">CallStaticDoubleMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top"><a name="wp5768" id="wp5768"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp21040" id="wp21040"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-7b
CallStatic&lt;type&gt;Method Calling Routines</div>
<table border="0" cellpadding="7" summary=
"CallStatic&lt;type&gt;Method Calling Routines" id="wp5702">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
CallStatic&lt;type&gt;Method Routine Name</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticVoidMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticVoidMethodA</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticVoidMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">141<br />
143<br />
142</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticObjectMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticObjectMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticObjectMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">114<br />
116<br />
115</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticBooleanMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticBooleanMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticBooleanMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">117<br />
119<br />
118</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticByteMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticByteMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticByteMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">120<br />
122<br />
121</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticCharMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticCharMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticCharMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">123<br />
125<br />
124</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticShortMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticShortMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticShortMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">126<br />
128<br />
127</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticIntMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticIntMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticIntMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">129<br />
131<br />
130</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticLongMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticLongMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticLongMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">132<br />
134<br />
133</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticFloatMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticFloatMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticFloatMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">135<br />
137<br />
136</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">CallStaticDoubleMethod</code><code class=
"cCode">()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticDoubleMethod</code><code class=
"cCode">A()</code></div>
<div class="pTableText"><code class=
"cCode">CallStaticDoubleMethod</code><code class=
"cCode">V()</code></div>
</td>
<td align="left" valign="top">138<br />
140<br />
139</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21041" id="wp21041"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21042" id="wp21042"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp21043" id="wp21043"></a>
<p class="pBody"><code class="cCode">methodID</code>: a static
method ID.</p>
<a name="wp5380" id="wp5380"></a>
<h4 class="pHeading4">Additional Parameter for
CallStatic&lt;type&gt;Method Routines:</h4>
<a name="wp5381" id="wp5381"></a>
<p class="pBody">arguments to the static method.</p>
<a name="wp4900" id="wp4900"></a>
<h4 class="pHeading4">Additional Parameter for
CallStatic&lt;type&gt;MethodA Routines:</h4>
<a name="wp4906" id="wp4906"></a>
<p class="pBody"><code class="cCode">args</code>: an array of
arguments.</p>
<a name="wp4904" id="wp4904"></a>
<h4 class="pHeading4">Additional Parameter for
CallStatic&lt;type&gt;MethodV Routines:</h4>
<a name="wp4912" id="wp4912"></a>
<p class="pBody"><code class="cCode">args</code>: a <code class=
"cCode">va_list</code> of arguments.</p>
<a name="wp5373" id="wp5373"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp5374" id="wp5374"></a>
<p class="pBody">Returns the result of calling the static Java
method.</p>
<a name="wp5910" id="wp5910"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5911" id="wp5911"></a>
<p class="pBody"><code class="cCode">Exceptions raised during the
execution of the Java method.</code></p>
<h2 class="pHeading1"><a name="string_operations" id=
"string_operations"></a>String Operations</h2>
<a name="wp4925" id="wp4925"></a>
<h3 class="pHeading2">NewString</h3>
<a name="wp4926" id="wp4926"></a>
<p class="pBody"><code class="cCode">jstring NewString(JNIEnv *env,
const jchar *unicodeChars,<br />
jsize len);</code></p>
<a name="wp17121" id="wp17121"></a>
<p class="pBody">Constructs a new <code class=
"cCode">java.lang.String</code> object from an array of Unicode
characters.</p>
<p><a name="wp21294" id="wp21294"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 163 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21295" id="wp21295"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21296" id="wp21296"></a>
<p class="pBody"><code class="cCode">unicodeChars</code>: pointer
to a Unicode string.</p>
<a name="wp21297" id="wp21297"></a>
<p class="pBody"><code class="cCode">len</code>: length of the
Unicode string.</p>
<a name="wp21299" id="wp21299"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21300" id="wp21300"></a>
<p class="pBody">Returns a Java string object, or <code class=
"cCode">NULL</code> if the string cannot be constructed.</p>
<a name="wp6039" id="wp6039"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp6042" id="wp6042"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp17132" id="wp17132"></a>
<h3 class="pHeading2">GetStringLength</h3>
<a name="wp17136" id="wp17136"></a>
<p class="pBody"><code class="cCode">jsize GetStringLength(JNIEnv
*env, jstring string);</code></p>
<a name="wp17140" id="wp17140"></a>
<p class="pBody">Returns the length (the count of Unicode
characters) of a Java string.</p>
<p><a name="wp21326" id="wp21326"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 164 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21327" id="wp21327"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21328" id="wp21328"></a>
<p class="pBody"><code class="cCode">string</code>: a Java string
object.</p>
<a name="wp21330" id="wp21330"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21331" id="wp21331"></a>
<p class="pBody">Returns the length of the Java string.</p>
<a name="wp17158" id="wp17158"></a>
<h3 class="pHeading2">GetStringChars</h3>
<a name="wp17162" id="wp17162"></a>
<p class="pBody"><code class="cCode">const jchar *
GetStringChars(JNIEnv *env, jstring string,<br />
jboolean *isCopy);</code></p>
<a name="wp17166" id="wp17166"></a>
<p class="pBody">Returns a pointer to the array of Unicode
characters of the string. This pointer is valid until <code class=
"cCode">ReleaseStringchars()</code> is called.</p>
<a name="wp21360" id="wp21360"></a>
<p class="pBody">If <code class="cCode">isCopy</code> is not
<code class="cCode">NULL</code>, then <code class=
"cCode">*isCopy</code> is set to <code class=
"cCode">JNI_TRUE</code> if a copy is made; or it is set to
<code class="cCode">JNI_FALSE</code> if no copy is made.</p>
<p><a name="wp21364" id="wp21364"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 165 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21365" id="wp21365"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21366" id="wp21366"></a>
<p class="pBody"><code class="cCode">string</code>: a Java string
object.</p>
<a name="wp21374" id="wp21374"></a>
<p class="pBody"><code class="cCode">isCopy</code>: a pointer to a
boolean.</p>
<a name="wp21367" id="wp21367"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21368" id="wp21368"></a>
<p class="pBody">Returns a pointer to a Unicode string, or
<code class="cCode">NULL</code> if the operation fails.</p>
<a name="wp17188" id="wp17188"></a>
<h3 class="pHeading2">ReleaseStringChars</h3>
<a name="wp17192" id="wp17192"></a>
<p class="pBody"><code class="cCode">void ReleaseStringChars(JNIEnv
*env, jstring string,<br />
const jchar *chars);</code></p>
<a name="wp17196" id="wp17196"></a>
<p class="pBody">Informs the VM that the native code no longer
needs access to <code class="cCode">chars</code>. The <code class=
"cCode">chars</code> argument is a pointer obtained from
<code class="cCode">string</code> using <code class=
"cCode">GetStringChars()</code>.</p>
<p><a name="wp21416" id="wp21416"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 166 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21417" id="wp21417"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21418" id="wp21418"></a>
<p class="pBody"><code class="cCode">string</code>: a Java string
object.</p>
<a name="wp21419" id="wp21419"></a>
<p class="pBody"><code class="cCode">chars</code>: a pointer to a
Unicode string.</p>
<a name="wp17220" id="wp17220"></a>
<h3 class="pHeading2">NewStringUTF</h3>
<a name="wp17224" id="wp17224"></a>
<p class="pBody"><code class="cCode">jstring NewStringUTF(JNIEnv
*env, const char *bytes);</code></p>
<a name="wp17228" id="wp17228"></a>
<p class="pBody">Constructs a new <code class=
"cCode">java.lang.String</code> object from an array of characters
in modified UTF-8 encoding.</p>
<p><a name="wp21516" id="wp21516"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 167 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21517" id="wp21517"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21518" id="wp21518"></a>
<p class="pBody"><code class="cCode">bytes</code>: the pointer to a
modified UTF-8 string.</p>
<a name="wp23869" id="wp23869"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp23870" id="wp23870"></a>
<p class="pBody">Returns a Java string object, or <code class=
"cCode">NULL</code> if the string cannot be constructed.</p>
<a name="wp6053" id="wp6053"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp6054" id="wp6054"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp23871" id="wp23871"></a>
<h3 class="pHeading2">GetStringUTFLength</h3>
<a name="wp17243" id="wp17243"></a>
<p class="pBody"><code class="cCode">jsize
GetStringUTFLength(JNIEnv *env, jstring string);</code></p>
<a name="wp17247" id="wp17247"></a>
<p class="pBody">Returns the length in bytes of the modified UTF-8
representation of a string.</p>
<p><a name="wp21535" id="wp21535"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 168 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21536" id="wp21536"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21537" id="wp21537"></a>
<p class="pBody"><code class="cCode">string</code>: a Java string
object.</p>
<a name="wp21538" id="wp21538"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21539" id="wp21539"></a>
<p class="pBody">Returns the UTF-8 length of the string.</p>
<a name="wp17265" id="wp17265"></a>
<h3 class="pHeading2">GetStringUTFChars</h3>
<a name="wp17269" id="wp17269"></a>
<p class="pBody"><code class="cCode">const char *
GetStringUTFChars(JNIEnv *env, jstring string,<br />
jboolean *isCopy);</code></p>
<a name="wp17273" id="wp17273"></a>
<p class="pBody">Returns a pointer to an array of bytes
representing the string in modified UTF-8 encoding. This array is
valid until it is released by <code class=
"cCode">ReleaseStringUTFChars()</code>.</p>
<a name="wp4116" id="wp4116"></a>
<p class="pBody">If <code class="cCode">isCopy</code> is not
<code class="cCode">NULL</code>, then <code class=
"cCode">*isCopy</code> is set to <code class=
"cCode">JNI_TRUE</code> if a copy is made; or it is set to
<code class="cCode">JNI_FALSE</code> if no copy is made.</p>
<p><a name="wp21562" id="wp21562"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 169 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21563" id="wp21563"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21564" id="wp21564"></a>
<p class="pBody"><code class="cCode">string</code>: a Java string
object.</p>
<a name="wp21565" id="wp21565"></a>
<p class="pBody"><code class="cCode">isCopy</code>: a pointer to a
boolean.</p>
<a name="wp21566" id="wp21566"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21567" id="wp21567"></a>
<p class="pBody">Returns a pointer to a modified UTF-8 string, or
<code class="cCode">NULL</code> if the operation fails.</p>
<a name="wp17294" id="wp17294"></a>
<h3 class="pHeading2">ReleaseStringUTFChars</h3>
<a name="wp17298" id="wp17298"></a>
<p class="pBody"><code class="cCode">void
ReleaseStringUTFChars(JNIEnv *env, jstring string,<br />
const char *utf);</code></p>
<a name="wp17302" id="wp17302"></a>
<p class="pBody">Informs the VM that the native code no longer
needs access to <code class="cCode">utf</code>. The <code class=
"cCode">utf</code> argument is a pointer derived from <code class=
"cCode">string</code> using <code class=
"cCode">GetStringUTFChars()</code>.</p>
<p><a name="wp21577" id="wp21577"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 170 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21578" id="wp21578"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21579" id="wp21579"></a>
<p class="pBody"><code class="cCode">string</code>: a Java string
object.</p>
<a name="wp21580" id="wp21580"></a>
<p class="pBody"><code class="cCode">utf</code>: a pointer to a
modified UTF-8 string.</p>
<p><a name="wp17314" id="wp17314"></a></p>
<table width="80%" border="1" cellpadding="5" align="center"
cellspacing="0">
<tbody>
<tr>
<td bgcolor="#FFFFCC">
<h2><u>Note</u></h2>
<p>In JDK/JRE 1.1, programmers can get primitive array elements in
a user-supplied buffer. As of JDK/JRE 1.2 additional set of
functions are provided allowing native code to obtain characters in
Unicode (UTF-16) or modified UTF-8 encoding in a user-supplied
buffer. See the functions below.</p>
</td>
</tr>
</tbody>
</table>
<h3 class="pHeading2"><a name="GetStringRegion" id=
"GetStringRegion"></a>GetStringRegion</h3>
<p><code>void GetStringRegion(JNIEnv *env, jstring str, jsize
start, jsize len, jchar *buf);</code></p>
<p>Copies <code>len</code> number of Unicode characters beginning
at offset <code>start</code> to the given buffer
<code>buf</code>.</p>
<p>Throws <code>StringIndexOutOfBoundsException</code> on index
overflow.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 220 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="GetStringUTFRegion" id=
"GetStringUTFRegion"></a>GetStringUTFRegion</h3>
<p>&lt; <code>void GetStringUTFRegion(JNIEnv *env, jstring str,
jsize start, jsize len, char *buf);</code></p>
<p>Translates <code>len</code> number of Unicode characters
beginning at offset <code>start</code> into modified UTF-8 encoding
and place the result in the given buffer <code>buf</code>.</p>
<p>Throws <code>StringIndexOutOfBoundsException</code> on index
overflow.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 221 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="GetStringCritical" id=
"GetStringCritical"></a>GetStringCritical<br />
<code><a name="ReleaseStringCritical" id=
"ReleaseStringCritical"></a></code>ReleaseStringCritical</h3>
<p><code>const jchar * GetStringCritical(JNIEnv *env, jstring
string, jboolean *isCopy);<br />
void ReleaseStringCritical(JNIEnv *env, jstring string, const jchar
*carray);</code></p>
<p>The semantics of these two functions are similar to the existing
<code>Get/ReleaseStringChars</code> functions. If possible, the VM
returns a pointer to string elements; otherwise, a copy is made.
<strong>However, there are significant restrictions on how these
functions can be used.</strong> In a code segment enclosed by
<code>Get/ReleaseStringCritical</code> calls, the native code must
not issue arbitrary JNI calls, or cause the current thread to
block.</p>
<p>The restrictions on <code>Get/ReleaseStringCritical</code> are
similar to those on
<code>Get/ReleasePrimitiveArrayCritical</code>.</p>
<h4 class="pHeading4">LINKAGE (GetStringCritical):</h4>
Index 224 in the JNIEnv interface function table.
<h4 class="pHeading4">LINKAGE (ReleaseStingCritical):</h4>
Index 225 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<a name="reflection" id="reflection"></a>
<h2 class="pHeading1"><a name="array_operations" id=
"array_operations"></a>Array Operations</h2>
<a name="wp21732" id="wp21732"></a>
<h3 class="pHeading2">GetArrayLength</h3>
<a name="wp21736" id="wp21736"></a>
<p class="pBody"><code class="cCode">jsize GetArrayLength(JNIEnv
*env, jarray array);</code></p>
<a name="wp21740" id="wp21740"></a>
<p class="pBody">Returns the number of elements in the array.</p>
<p><a name="wp21766" id="wp21766"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 171 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21767" id="wp21767"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21768" id="wp21768"></a>
<p class="pBody"><code class="cCode">array</code>: a Java array
object.</p>
<a name="wp21770" id="wp21770"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21771" id="wp21771"></a>
<p class="pBody">Returns the length of the array.</p>
<a name="wp21619" id="wp21619"></a>
<h3 class="pHeading2">NewObjectArray</h3>
<a name="wp21623" id="wp21623"></a>
<p class="pBody"><code class="cCode">jobjectArray
NewObjectArray(JNIEnv *env, jsize length,<br />
jclass elementClass, jobject initialElement);</code></p>
<a name="wp21628" id="wp21628"></a>
<p class="pBody">Constructs a new array holding objects in class
<code class="cCode">elementClass</code>. All elements are initially
set to <code class="cCode">initialElement</code>.</p>
<p><a name="wp21868" id="wp21868"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 172 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21869" id="wp21869"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21885" id="wp21885"></a>
<p class="pBody"><code class="cCode">length</code>: array size.</p>
<a name="wp21888" id="wp21888"></a>
<p class="pBody"><code class="cCode">elementClass</code>: array
element class.</p>
<a name="wp21899" id="wp21899"></a>
<p class="pBody"><code class="cCode">initialElement</code>:
initialization value.</p>
<a name="wp21871" id="wp21871"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21872" id="wp21872"></a>
<p class="pBody">Returns a Java array object, or <code class=
"cCode">NULL</code> if the array cannot be constructed.</p>
<a name="wp6114" id="wp6114"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp6115" id="wp6115"></a>
<p class="pBody"><code class="cCode">OutOfMemoryError</code>: if
the system runs out of memory.</p>
<a name="wp21671" id="wp21671"></a>
<h3 class="pHeading2">GetObjectArrayElement</h3>
<a name="wp21675" id="wp21675"></a>
<p class="pBody"><code class="cCode">jobject
GetObjectArrayElement(JNIEnv *env,<br />
jobjectArray array, jsize index);</code></p>
<a name="wp21679" id="wp21679"></a>
<p class="pBody">Returns an element of an <code class=
"cCode">Object</code> array.</p>
<p><a name="wp21922" id="wp21922"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 173 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21923" id="wp21923"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21924" id="wp21924"></a>
<p class="pBody"><code class="cCode">array</code>: a Java
array.</p>
<a name="wp21925" id="wp21925"></a>
<p class="pBody"><code class="cCode">index</code>: array index.</p>
<a name="wp21927" id="wp21927"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp21928" id="wp21928"></a>
<p class="pBody">Returns a Java object.</p>
<a name="wp21680" id="wp21680"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp21686" id="wp21686"></a>
<p class="pBody"><code class=
"cCode">ArrayIndexOutOfBoundsException</code>: if <code class=
"cCode">index</code> does not specify a valid index in the
array.</p>
<a name="wp21699" id="wp21699"></a>
<h3 class="pHeading2">SetObjectArrayElement</h3>
<a name="wp21703" id="wp21703"></a>
<p class="pBody"><code class="cCode">void
SetObjectArrayElement(JNIEnv *env, jobjectArray array,<br />
jsize index, jobject value);</code></p>
<a name="wp21707" id="wp21707"></a>
<p class="pBody">Sets an element of an <code class=
"cCode">Object</code> array.</p>
<p><a name="wp21972" id="wp21972"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 174 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp21973" id="wp21973"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp21974" id="wp21974"></a>
<p class="pBody"><code class="cCode">array</code>: a Java
array.</p>
<a name="wp21975" id="wp21975"></a>
<p class="pBody"><code class="cCode">index</code>: array index.</p>
<a name="wp21985" id="wp21985"></a>
<p class="pBody"><code class="cCode">value</code>: the new
value.</p>
<a name="wp21978" id="wp21978"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp21980" id="wp21980"></a>
<p class="pBody"><code class=
"cCode">ArrayIndexOutOfBoundsException</code>: if <code class=
"cCode">index</code> does not specify a valid index in the
array.</p>
<a name="wp21717" id="wp21717"></a>
<p class="pBody"><code class="cCode">ArrayStoreException</code>: if
the class of <code class="cCode">value</code> is not a subclass of
the element class of the array.</p>
<a name="wp17318" id="wp17318"></a>
<h3 class="pHeading2">New&lt;PrimitiveType&gt;Array Routines</h3>
<a name="wp17322" id="wp17322"></a>
<p class="pBody"><em class="cEmphasis">ArrayType</em> <em class=
"cEmphasis">New&lt;PrimitiveType&gt;Array</em><code class=
"cCode">(JNIEnv *env, jsize length);</code></p>
<a name="wp17326" id="wp17326"></a>
<p class="pBody">A family of operations used to construct a new
primitive array object. <a href="#wp5339">Table&nbsp;4-8</a>
describes the specific primitive array constructors. You should
replace <em class="cEmphasis">New&lt;PrimitiveType&gt;Array</em>
with one of the actual primitive array constructor routine names
from the following table, and replace ArrayType with the
corresponding array type for that routine.</p>
<a name="wp4122" id="wp4122"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-8a
New&lt;PrimitiveType&gt;Array Family of Array Constructors</div>
<table border="0" cellpadding="7" summary=
"New&lt;PrimitiveType&gt;Array Family of Array Constructors" id=
"wp5339">
<caption><a name="wp5339" id="wp5339"></a></caption>
<thead>
<tr align="center">
<th><a name="wp5343" id="wp5343"></a>
<div style="text-align: left;" class="pTableHead">
New&lt;PrimitiveType&gt;Array Routines</div>
</th>
<th><a name="wp5345" id="wp5345"></a>
<div style="text-align: left;" class="pTableHead">Array Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp5347" id="wp5347"></a>
<div class="pTableText"><code class=
"cCode">NewBooleanArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5349" id="wp5349"></a>
<div class="pTableText">jbooleanArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5351" id="wp5351"></a>
<div class="pTableText"><code class=
"cCode">NewByteArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5353" id="wp5353"></a>
<div class="pTableText">jbyteArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5355" id="wp5355"></a>
<div class="pTableText"><code class=
"cCode">NewCharArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5357" id="wp5357"></a>
<div class="pTableText">jcharArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5359" id="wp5359"></a>
<div class="pTableText"><code class=
"cCode">NewShortArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5361" id="wp5361"></a>
<div class="pTableText">jshortArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5363" id="wp5363"></a>
<div class="pTableText"><code class=
"cCode">NewIntArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5365" id="wp5365"></a>
<div class="pTableText">jintArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5367" id="wp5367"></a>
<div class="pTableText"><code class=
"cCode">NewLongArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5369" id="wp5369"></a>
<div class="pTableText">jlongArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5371" id="wp5371"></a>
<div class="pTableText"><code class=
"cCode">NewFloatArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">jfloatArray</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp5375" id="wp5375"></a>
<div class="pTableText"><code class=
"cCode">NewDoubleArray()</code></div>
</td>
<td align="left" valign="top"><a name="wp5377" id="wp5377"></a>
<div class="pTableText">jdoubleArray</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp5092" id="wp5092"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-8b
New&lt;PrimitiveType&gt;Array Family of Array Constructors</div>
<table border="0" cellpadding="7" summary=
"New&lt;PrimitiveType&gt;Array Family of Array Constructors" id=
"wp5339-2">
<caption><a name="wp5339-2" id="wp5339-2"></a></caption>
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
New&lt;PrimitiveType&gt;Array Routines</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewBooleanArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">175</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewByteArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">176</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewCharArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">177</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewShortArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">178</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewIntArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">179</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewLongArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">180</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewFloatArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">181</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">NewDoubleArray()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">182</div>
</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp22207" id="wp22207"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp22208" id="wp22208"></a>
<p class="pBody"><code class="cCode">length</code>: the array
length.</p>
<a name="wp22210" id="wp22210"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp22211" id="wp22211"></a>
<p class="pBody">Returns a Java array, or <code class=
"cCode">NULL</code> if the array cannot be constructed.</p>
<a name="wp17382" id="wp17382"></a>
<h3 class="pHeading2">Get&lt;PrimitiveType&gt;ArrayElements
Routines</h3>
<a name="wp17386" id="wp17386"></a>
<p class="pBody"><em class="cEmphasis">NativeType</em> <code class=
"cCode">*</code><em class=
"cEmphasis">Get&lt;PrimitiveType&gt;ArrayElements</em><code style=
"font-style: normal;" class="cCode">(JNIEnv *env,<br /></code>
<code style="font-style: italic;" class="cCode">ArrayType</code>
<code class="cCode">array, jboolean *isCopy);</code></p>
<a name="wp17390" id="wp17390"></a>
<p class="pBody">A family of functions that returns the body of the
primitive array. The result is valid until the corresponding
<em style="font-style: italic;" class=
"cEmphasis">Release</em><code style="font-style: italic;" class=
"cCode">&lt;</code><em style="font-style: italic;" class=
"cEmphasis">PrimitiveType</em><code style="font-style: italic;"
class="cCode">&gt;</code><em class="cEmphasis">ArrayElements()</em>
function is called. S<em class="cEmphasis">ince the returned array
may be a copy of the Java array, changes made to the returned array
will not necessarily be reflected in the original</em> <code style=
"font-style: normal;" class="cCode">array</code> <em style=
"font-style: italic;" class="cEmphasis">until</em> <code style=
"font-style: italic;" class=
"cCode">Release&lt;PrimitiveType&gt;ArrayElements()</code>
<em class="cEmphasis">is called.</em></p>
<a name="wp4127" id="wp4127"></a>
<p class="pBody">If <code class="cCode">isCopy</code> is not
<code class="cCode">NULL</code>, then <code class=
"cCode">*isCopy</code> is set to <code class=
"cCode">JNI_TRUE</code> if a copy is made; or it is set to
<code class="cCode">JNI_FALSE</code> if no copy is made.</p>
<a name="wp4637" id="wp4637"></a>
<p class="pBody">The following table describes the specific
primitive array element accessors. You should make the following
substitutions:</p>
<div style="margin-left: 2em" class="pBullet1"><a name="wp6198" id=
"wp6198"></a>
<div class="pBullet1">
<ul>
<li>Replace <em class=
"cEmphasis">Get&lt;PrimitiveType&gt;ArrayElements</em> with one of
the actual primitive element accessor routine names from the
table.</li>
</ul>
</div>
<a name="wp6201" id="wp6201"></a>
<div class="pBullet1Plus">
<ul>
<li>Replace ArrayType with the corresponding array type.</li>
</ul>
</div>
<a name="wp6204" id="wp6204"></a>
<div class="pBullet1Last">
<ul>
<li>Replace <em class="cEmphasis">NativeType</em> with the
corresponding native type for that routine.</li>
</ul>
</div>
</div>
<a name="wp4590" id="wp4590"></a>
<p class="pBody">Regardless of how boolean arrays are represented
in the Java VM, <code class=
"cCode">GetBooleanArrayElements()</code> always returns a pointer
to <code class="cCode">jbooleans</code>, with each byte denoting an
element (the unpacked representation). All arrays of other types
are guaranteed to be contiguous in memory.</p>
<a name="wp4136" id="wp4136"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-9a
Get&lt;PrimitiveType&gt;ArrayElements Family of Accessor
Routines</div>
<table border="0" cellpadding="7" summary=
"Get&lt;PrimitiveType&gt;ArrayElements Family of Accessor Routines"
id="wp4963">
<caption><a name="wp4963" id="wp4963"></a></caption>
<thead>
<tr align="center">
<th><a name="wp4649" id="wp4649"></a>
<div style="text-align: left;" class="pTableHead">
Get&lt;PrimitiveType&gt;ArrayElements Routines</div>
</th>
<th><a name="wp4651" id="wp4651"></a>
<div style="text-align: left;" class="pTableHead">Array Type</div>
</th>
<th><a name="wp4653" id="wp4653"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp4655" id="wp4655"></a>
<div class="pTableText"><code class=
"cCode">GetBooleanArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4657" id="wp4657"></a>
<div class="pTableText">jbooleanArray</div>
</td>
<td align="left" valign="top"><a name="wp4659" id="wp4659"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4661" id="wp4661"></a>
<div class="pTableText"><code class=
"cCode">GetByteArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4663" id="wp4663"></a>
<div class="pTableText">jbyteArray</div>
</td>
<td align="left" valign="top"><a name="wp4665" id="wp4665"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4667" id="wp4667"></a>
<div class="pTableText"><code class=
"cCode">GetCharArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4669" id="wp4669"></a>
<div class="pTableText">jcharArray</div>
</td>
<td align="left" valign="top"><a name="wp4671" id="wp4671"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4673" id="wp4673"></a>
<div class="pTableText"><code class=
"cCode">GetShortArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4675" id="wp4675"></a>
<div class="pTableText">jshortArray</div>
</td>
<td align="left" valign="top"><a name="wp4677" id="wp4677"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4679" id="wp4679"></a>
<div class="pTableText"><code class=
"cCode">GetIntArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4681" id="wp4681"></a>
<div class="pTableText">jintArray</div>
</td>
<td align="left" valign="top"><a name="wp4683" id="wp4683"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4685" id="wp4685"></a>
<div class="pTableText"><code class=
"cCode">GetLongArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4687" id="wp4687"></a>
<div class="pTableText">jlongArray</div>
</td>
<td align="left" valign="top"><a name="wp4689" id="wp4689"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4691" id="wp4691"></a>
<div class="pTableText"><code class=
"cCode">GetFloatArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4693" id="wp4693"></a>
<div class="pTableText">jfloatArray</div>
</td>
<td align="left" valign="top"><a name="wp4695" id="wp4695"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp4697" id="wp4697"></a>
<div class="pTableText"><code class=
"cCode">GetDoubleArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp4699" id="wp4699"></a>
<div class="pTableText">jdoubleArray</div>
</td>
<td align="left" valign="top"><a name="wp4701" id="wp4701"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp22652" id="wp22652"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-9b
Get&lt;PrimitiveType&gt;ArrayElements Family of Accessor
Routines</div>
<table border="0" cellpadding="7" summary=
"Get&lt;PrimitiveType&gt;ArrayElements Family of Accessor Routines"
id="wp4963">
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Get&lt;PrimitiveType&gt;ArrayElements Routines</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetBooleanArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">183</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetByteArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">184</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetCharArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">185</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetShortArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">186</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetIntArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">187</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetLongArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">188</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetFloatArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">189</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetDoubleArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">190</div>
</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp22281" id="wp22281"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp22282" id="wp22282"></a>
<p class="pBody"><code class="cCode">array</code>: a Java string
object.</p>
<a name="wp22283" id="wp22283"></a>
<p class="pBody"><code class="cCode">isCopy</code>: a pointer to a
boolean.</p>
<a name="wp22284" id="wp22284"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp22285" id="wp22285"></a>
<p class="pBody">Returns a pointer to the array elements, or
<code class="cCode">NULL</code> if the operation fails.</p>
<a name="wp17440" id="wp17440"></a>
<h3 class="pHeading2">Release&lt;PrimitiveType&gt;ArrayElements
Routines</h3>
<a name="wp17444" id="wp17444"></a>
<p class="pBody"><code class="cCode">void</code> <em class=
"cEmphasis">Release&lt;PrimitiveType&gt;ArrayElements</em><code style="font-style: normal;"
class="cCode">(JNIEnv *env,<br /></code> <code style=
"font-style: italic;" class="cCode">ArrayType</code> <code class=
"cCode">array,</code> <em class="cEmphasis">NativeType</em>
<code class="cCode">*elems, jint mode);</code></p>
<a name="wp5114" id="wp5114"></a>
<p class="pBody">A family of functions that informs the VM that the
native code no longer needs access to <code class=
"cCode">elems</code>. The <code class="cCode">elems</code> argument
is a pointer derived from <code class="cCode">array</code> using
the corresponding <em class="cEmphasis">Get</em><code class=
"cCode">&lt;</code><em class=
"cEmphasis">PrimitiveType</em><code class=
"cCode">&gt;</code><em class="cEmphasis">ArrayElements()</em>
function. If necessary, this function copies back all changes made
to <code class="cCode">elems</code> to the original array.</p>
<a name="wp17454" id="wp17454"></a>
<p class="pBody">The <code class="cCode">mode</code> argument
provides information on how the array buffer should be released.
<code class="cCode">mode</code> has no effect if <code class=
"cCode">elems</code> is not a copy of the elements in <code class=
"cCode">array</code>. Otherwise, <code class="cCode">mode</code>
has the following impact, as shown in the following table:</p>
<a name="wp4137" id="wp4137"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-10 Primitive Array Release
Modes</div>
<table border="0" cellpadding="7" summary=
"Primitive Array Release Modes" id="wp1544">
<caption><a name="wp1544" id="wp1544"></a></caption>
<thead>
<tr align="center">
<th><a name="wp22549" id="wp22549"></a>
<div style="text-align: left;" class="pTableHead">mode</div>
</th>
<th><a name="wp22551" id="wp22551"></a>
<div style="text-align: left;" class="pTableHead">actions</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp22553" id="wp22553"></a>
<div class="pTableText"><code class="cCode">0</code></div>
</td>
<td align="left" valign="top"><a name="wp22555" id="wp22555"></a>
<div class="pTableText">copy back the content and free the
<code class="cCode">elems</code> buffer</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22557" id="wp22557"></a>
<div class="pTableText"><code class="cCode">JNI_COMMIT</code></div>
</td>
<td align="left" valign="top"><a name="wp22559" id="wp22559"></a>
<div class="pTableText">copy back the content but do not free the
<code class="cCode">elems</code> buffer</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22561" id="wp22561"></a>
<div class="pTableText"><code class="cCode">JNI_ABORT</code></div>
</td>
<td align="left" valign="top"><a name="wp22563" id="wp22563"></a>
<div class="pTableText">free the buffer without copying back the
possible changes</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<a name="wp17470" id="wp17470"></a>
<p class="pBody">In most cases, programmers pass &#8220;0&#8221; to
the <code class="cCode">mode</code> argument to ensure consistent
behavior for both pinned and copied arrays. The other options give
the programmer more control over memory management and should be
used with extreme care.</p>
<a name="wp17475" id="wp17475"></a>
<p class="pBody">The next table describes the specific routines
that comprise the family of primitive array disposers. You should
make the following substitutions:</p>
<div style="margin-left: 2em" class="pBullet1"><a name="wp6205" id=
"wp6205"></a>
<div class="pBullet1">
<ul>
<li>Replace <em class=
"cEmphasis">Release&lt;PrimitiveType&gt;ArrayElements</em> with one
of the actual primitive array disposer routine names from <a href=
"#wp1629">Table&nbsp;4-11</a>.</li>
</ul>
</div>
<a name="wp6206" id="wp6206"></a>
<div class="pBullet1Plus">
<ul>
<li>Replace ArrayType with the corresponding array type.</li>
</ul>
</div>
<a name="wp6209" id="wp6209"></a>
<div class="pBullet1Last">
<ul>
<li>Replace <em class="cEmphasis">NativeType</em> with the
corresponding native type for that routine.</li>
</ul>
</div>
</div>
<a name="wp4140" id="wp4140"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-11a
Release&lt;PrimitiveType&gt;ArrayElements Family of Array
Routines</div>
<table border="0" cellpadding="7" summary=
"Release&lt;PrimitiveType&gt;ArrayElements Family of Array Routines"
id="wp1629">
<caption><a name="wp1629" id="wp1629"></a></caption>
<thead>
<tr align="center">
<th><a name="wp22662" id="wp22662"></a>
<div style="text-align: left;" class="pTableHead">
Release&lt;PrimitiveType&gt;ArrayElements Routines</div>
</th>
<th><a name="wp22664" id="wp22664"></a>
<div style="text-align: left;" class="pTableHead">Array Type</div>
</th>
<th><a name="wp22666" id="wp22666"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp22668" id="wp22668"></a>
<div class="pTableText"><code class=
"cCode">ReleaseBooleanArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22670" id="wp22670"></a>
<div class="pTableText">jbooleanArray</div>
</td>
<td align="left" valign="top"><a name="wp22672" id="wp22672"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22674" id="wp22674"></a>
<div class="pTableText"><code class=
"cCode">ReleaseByteArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22676" id="wp22676"></a>
<div class="pTableText">jbyteArray</div>
</td>
<td align="left" valign="top"><a name="wp22678" id="wp22678"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22680" id="wp22680"></a>
<div class="pTableText"><code class=
"cCode">ReleaseCharArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22682" id="wp22682"></a>
<div class="pTableText">jcharArray</div>
</td>
<td align="left" valign="top"><a name="wp22684" id="wp22684"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22686" id="wp22686"></a>
<div class="pTableText"><code class=
"cCode">ReleaseShortArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22688" id="wp22688"></a>
<div class="pTableText">jshortArray</div>
</td>
<td align="left" valign="top"><a name="wp22690" id="wp22690"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22692" id="wp22692"></a>
<div class="pTableText"><code class=
"cCode">ReleaseIntArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22694" id="wp22694"></a>
<div class="pTableText">jintArray</div>
</td>
<td align="left" valign="top"><a name="wp22696" id="wp22696"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22698" id="wp22698"></a>
<div class="pTableText"><code class=
"cCode">ReleaseLongArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22700" id="wp22700"></a>
<div class="pTableText">jlongArray</div>
</td>
<td align="left" valign="top"><a name="wp22702" id="wp22702"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22704" id="wp22704"></a>
<div class="pTableText"><code class=
"cCode">ReleaseFloatArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22706" id="wp22706"></a>
<div class="pTableText">jfloatArray</div>
</td>
<td align="left" valign="top"><a name="wp22708" id="wp22708"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22710" id="wp22710"></a>
<div class="pTableText"><code class=
"cCode">ReleaseDoubleArrayElements()</code></div>
</td>
<td align="left" valign="top"><a name="wp22712" id="wp22712"></a>
<div class="pTableText">jdoubleArray</div>
</td>
<td align="left" valign="top"><a name="wp22714" id="wp22714"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp22735" id="wp22735"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-11b
Release&lt;PrimitiveType&gt;ArrayElements Family of Array
Routines</div>
<table border="0" cellpadding="7" summary=
"Release&lt;PrimitiveType&gt;ArrayElements Family of Array Routines"
id="wp1629-2">
<caption><a name="wp1629-2" id="wp1629-2"></a></caption>
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Release&lt;PrimitiveType&gt;ArrayElements Routines</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseBooleanArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">191</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseByteArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">192</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseCharArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">193</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseShortArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">194</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseIntArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">195</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseLongArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">196</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseFloatArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">197</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">ReleaseDoubleArrayElements()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">198</div>
</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp22736" id="wp22736"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp22737" id="wp22737"></a>
<p class="pBody"><code class="cCode">array</code>: a Java array
object.</p>
<a name="wp4797" id="wp4797"></a>
<p class="pBody"><code class="cCode">elems</code>: a pointer to
array elements.</p>
<a name="wp4798" id="wp4798"></a>
<p class="pBody"><code class="cCode">mode</code>: the release
mode.</p>
<a name="wp6212" id="wp6212"></a>
<h3 class="pHeading2">Get&lt;PrimitiveType&gt;ArrayRegion
Routines</h3>
<a name="wp6213" id="wp6213"></a>
<p class="pBody"><em class="cEmphasis">void</em> <em class=
"cEmphasis">Get&lt;PrimitiveType&gt;ArrayRegion</em><code class=
"cCode">(JNIEnv *env,</code> <em class="cEmphasis">ArrayType</em>
<code class="cCode">array,<br />
jsize start, jsize len,</code> <em class=
"cEmphasis">NativeType</em> <code class="cCode">*buf);</code></p>
<a name="wp17518" id="wp17518"></a>
<p class="pBody">A family of functions that copies a region of a
primitive array into a buffer.</p>
<a name="wp17521" id="wp17521"></a>
<p class="pBody">The following table describes the specific
primitive array element accessors. You should do the following
substitutions:</p>
<div style="margin-left: 2em" class="pBullet1"><a name="wp6214" id=
"wp6214"></a>
<div class="pBullet1">
<ul>
<li>Replace <em class=
"cEmphasis">Get&lt;PrimitiveType&gt;ArrayRegion</em> with one of
the actual primitive element accessor routine names from <a href=
"#wp1716">Table&nbsp;4-12</a>.</li>
</ul>
</div>
<a name="wp6217" id="wp6217"></a>
<div class="pBullet1Plus">
<ul>
<li>Replace <em class="cEmphasis">ArrayType</em> with the
corresponding array type.</li>
</ul>
</div>
<a name="wp6220" id="wp6220"></a>
<div class="pBullet1Last">
<ul>
<li>Replace <em class="cEmphasis">NativeType</em> with the
corresponding native type for that routine.</li>
</ul>
</div>
</div>
<a name="wp4143" id="wp4143"></a>
<p class="pBody"></p>
<div align="left">
<div class="pTableCaption">Table&nbsp;4-12a
Get&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor
Routines</div>
<table border="0" cellpadding="7" summary=
"Get&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor Routines"
id="wp1716">
<caption><a name="wp1716" id="wp1716"></a></caption>
<thead>
<tr align="center">
<th><a name="wp22777" id="wp22777"></a>
<div style="text-align: left;" class="pTableHead">
Get&lt;PrimitiveType&gt;ArrayRegion Routine</div>
</th>
<th><a name="wp22779" id="wp22779"></a>
<div style="text-align: left;" class="pTableHead">Array Type</div>
</th>
<th><a name="wp22781" id="wp22781"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp22783" id="wp22783"></a>
<div class="pTableText"><code class=
"cCode">GetBooleanArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22785" id="wp22785"></a>
<div class="pTableText">jbooleanArray</div>
</td>
<td align="left" valign="top"><a name="wp22787" id="wp22787"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22789" id="wp22789"></a>
<div class="pTableText"><code class=
"cCode">GetByteArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22791" id="wp22791"></a>
<div class="pTableText">jbyteArray</div>
</td>
<td align="left" valign="top"><a name="wp22793" id="wp22793"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22795" id="wp22795"></a>
<div class="pTableText"><code class=
"cCode">GetCharArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22797" id="wp22797"></a>
<div class="pTableText">jcharArray</div>
</td>
<td align="left" valign="top"><a name="wp22799" id="wp22799"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22801" id="wp22801"></a>
<div class="pTableText"><code class=
"cCode">GetShortArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22803" id="wp22803"></a>
<div class="pTableText">jshortArray</div>
</td>
<td align="left" valign="top"><a name="wp22805" id="wp22805"></a>
<div class="pTableText">jhort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22807" id="wp22807"></a>
<div class="pTableText"><code class=
"cCode">GetIntArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22809" id="wp22809"></a>
<div class="pTableText">jintArray</div>
</td>
<td align="left" valign="top"><a name="wp22811" id="wp22811"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22813" id="wp22813"></a>
<div class="pTableText"><code class=
"cCode">GetLongArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22815" id="wp22815"></a>
<div class="pTableText">jlongArray</div>
</td>
<td align="left" valign="top"><a name="wp22817" id="wp22817"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22819" id="wp22819"></a>
<div class="pTableText"><code class=
"cCode">GetFloatArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22821" id="wp22821"></a>
<div class="pTableText">jfloatArray</div>
</td>
<td align="left" valign="top"><a name="wp22823" id="wp22823"></a>
<div class="pTableText">jloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22825" id="wp22825"></a>
<div class="pTableText"><code class=
"cCode">GetDoubleArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22827" id="wp22827"></a>
<div class="pTableText">jdoubleArray</div>
</td>
<td align="left" valign="top"><a name="wp22829" id="wp22829"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
<p class="pBody"></p>
<p><a name="wp22935" id="wp22935"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-12b
Get&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor
Routines</div>
<table border="0" cellpadding="7" summary=
"Get&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor Routines"
id="wp1716-2">
<caption><a name="wp1716-2" id="wp1716-2"></a></caption>
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Get&lt;PrimitiveType&gt;ArrayRegion Routine</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetBooleanArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">199</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetByteArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">200</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetCharArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">201</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetShortArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">202</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetIntArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">203</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetLongArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">204</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetFloatArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">205</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">GetDoubleArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">206</div>
</td>
</tr>
</tbody>
</table>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp22936" id="wp22936"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp22937" id="wp22937"></a>
<p class="pBody"><code class="cCode">array</code>: a Java
array.</p>
<a name="wp5199" id="wp5199"></a>
<p class="pBody"><code class="cCode">start</code>: the starting
index.</p>
<a name="wp5205" id="wp5205"></a>
<p class="pBody"><code class="cCode">len</code>: the number of
elements to be copied.</p>
<a name="wp5207" id="wp5207"></a>
<p class="pBody"><code class="cCode">buf</code>: the destination
buffer.</p>
<a name="wp22941" id="wp22941"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp22943" id="wp22943"></a>
<p class="pBody"><code class=
"cCode">ArrayIndexOutOfBoundsException</code>: if one of the
indexes in the region is not valid.</p>
<a name="wp22933" id="wp22933"></a>
<h3 class="pHeading2">Set&lt;PrimitiveType&gt;ArrayRegion
Routines</h3>
<a name="wp17563" id="wp17563"></a>
<p class="pBody"><code class="cCode">void</code> <em class=
"cEmphasis">Set&lt;PrimitiveType&gt;ArrayRegion</em><code class=
"cCode">(JNIEnv *env,</code> <em class="cEmphasis">ArrayType</em>
<code class="cCode">array,<br />
jsize start, jsize len,</code> const <em class=
"cEmphasis">NativeType</em> <code class="cCode">*buf);</code></p>
<a name="wp17568" id="wp17568"></a>
<p class="pBody">A family of functions that copies back a region of
a primitive array from a buffer.</p>
<a name="wp22912" id="wp22912"></a>
<p class="pBody">The following table describes the specific
primitive array element accessors. You should make the following
replacements:</p>
<div style="margin-left: 2em" class="pBullet1"><a name="wp6221" id=
"wp6221"></a>
<div class="pBullet1">
<ul>
<li>Replace <em class=
"cEmphasis">Set&lt;PrimitiveType&gt;ArrayRegion</em> with one of
the actual primitive element accessor routine names from the
table.</li>
</ul>
</div>
<a name="wp6224" id="wp6224"></a>
<div class="pBullet1Plus">
<ul>
<li>Replace ArrayType with the corresponding array type.</li>
</ul>
</div>
<a name="wp6227" id="wp6227"></a>
<div class="pBullet1Last">
<ul>
<li>Replace <em class="cEmphasis">NativeType</em> with the
corresponding native type for that routine.
<div align="left">
<div class="pTableCaption">Table&nbsp;4-13a
Set&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor
Routines</div>
<table border="0" cellpadding="7" summary=
"Set&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor Routines"
id="wp1803">
<caption><a name="wp1803" id="wp1803"></a></caption>
<thead>
<tr align="center">
<th><a name="wp22859" id="wp22859"></a>
<div style="text-align: left;" class="pTableHead">
Set&lt;PrimitiveType&gt;ArrayRegion Routine</div>
</th>
<th><a name="wp22861" id="wp22861"></a>
<div style="text-align: left;" class="pTableHead">Array Type</div>
</th>
<th><a name="wp22863" id="wp22863"></a>
<div style="text-align: left;" class="pTableHead">Native Type</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top"><a name="wp22865" id="wp22865"></a>
<div class="pTableText"><code class=
"cCode">SetBooleanArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22867" id="wp22867"></a>
<div class="pTableText">jbooleanArray</div>
</td>
<td align="left" valign="top"><a name="wp22869" id="wp22869"></a>
<div class="pTableText">jboolean</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22871" id="wp22871"></a>
<div class="pTableText"><code class=
"cCode">SetByteArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22873" id="wp22873"></a>
<div class="pTableText">jbyteArray</div>
</td>
<td align="left" valign="top"><a name="wp22875" id="wp22875"></a>
<div class="pTableText">jbyte</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22877" id="wp22877"></a>
<div class="pTableText"><code class=
"cCode">SetCharArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22879" id="wp22879"></a>
<div class="pTableText">jcharArray</div>
</td>
<td align="left" valign="top"><a name="wp22881" id="wp22881"></a>
<div class="pTableText">jchar</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22883" id="wp22883"></a>
<div class="pTableText"><code class=
"cCode">SetShortArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22885" id="wp22885"></a>
<div class="pTableText">jshortArray</div>
</td>
<td align="left" valign="top"><a name="wp22887" id="wp22887"></a>
<div class="pTableText">jshort</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22889" id="wp22889"></a>
<div class="pTableText"><code class=
"cCode">SetIntArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22891" id="wp22891"></a>
<div class="pTableText">jintArray</div>
</td>
<td align="left" valign="top"><a name="wp22893" id="wp22893"></a>
<div class="pTableText">jint</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22895" id="wp22895"></a>
<div class="pTableText"><code class=
"cCode">SetLongArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22897" id="wp22897"></a>
<div class="pTableText">jlongArray</div>
</td>
<td align="left" valign="top"><a name="wp22899" id="wp22899"></a>
<div class="pTableText">jlong</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22901" id="wp22901"></a>
<div class="pTableText"><code class=
"cCode">SetFloatArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22903" id="wp22903"></a>
<div class="pTableText">jfloatArray</div>
</td>
<td align="left" valign="top"><a name="wp22905" id="wp22905"></a>
<div class="pTableText">jfloat</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top"><a name="wp22907" id="wp22907"></a>
<div class="pTableText"><code class=
"cCode">SetDoubleArrayRegion()</code></div>
</td>
<td align="left" valign="top"><a name="wp22909" id="wp22909"></a>
<div class="pTableText">jdoubleArray</div>
</td>
<td align="left" valign="top"><a name="wp22911" id="wp22911"></a>
<div class="pTableText">jdouble</div>
</td>
</tr>
</tbody>
</table>
</div>
</li>
</ul>
</div>
</div>
<p><a name="wp22951" id="wp22951"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Indices in the JNIEnv interface function table.</p>
<div class="pTableCaption">Table&nbsp;4-13b
Set&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor
Routines</div>
<table border="0" cellpadding="7" summary=
"Set&lt;PrimitiveType&gt;ArrayRegion Family of Array Accessor Routines"
id="wp1803-2">
<caption><a name="wp1803-2" id="wp1803-2"></a></caption>
<thead>
<tr align="center">
<th>
<div style="text-align: left;" class="pTableHead">
Set&lt;PrimitiveType&gt;ArrayRegion Routine</div>
</th>
<th>
<div style="text-align: left;" class="pTableHead">Index</div>
</th>
</tr>
</thead>
<tbody>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetBooleanArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">207</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetByteArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">208</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetCharArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">209</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetShortArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">210</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetIntArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">211</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetLongArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">212</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetFloatArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">213</div>
</td>
</tr>
<tr align="left">
<td align="left" valign="top">
<div class="pTableText"><code class=
"cCode">SetDoubleArrayRegion()</code></div>
</td>
<td align="left" valign="top">
<div class="pTableText">214</div>
</td>
</tr>
</tbody>
</table>
<p>PARAMETERS:</p>
<a name="wp22952" id="wp22952"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp5232" id="wp5232"></a>
<p class="pBody"><code class="cCode">array</code>: a Java
array.</p>
<a name="wp5233" id="wp5233"></a>
<p class="pBody"><code class="cCode">start</code>: the starting
index.</p>
<p class="pBody"><code class="cCode">len</code>: the number of
elements to be copied.</p>
<a name="wp5235" id="wp5235"></a>
<p class="pBody"><code class="cCode">buf</code>: the source
buffer.</p>
<a name="wp5830" id="wp5830"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp5835" id="wp5835"></a>
<p class="pBody"><code class=
"cCode">ArrayIndexOutOfBoundsException</code>: if one of the
indexes in the region is not valid.</p>
<p><a name="wp5833" id="wp5833"></a></p>
<table width="80%" border="1" cellpadding="5" align="center"
cellspacing="0" summary="">
<tbody>
<tr>
<td bgcolor="#FFFFCC">
<h2><u>Note</u></h2>
<p>As of JDK/JRE 1.1, programmers can use
<code>Get/Release&lt;primitivetype&gt;ArrayElements</code>
functions to obtain a pointer to primitive array elements. If the
VM supports pinning, the pointer to the original data is returned;
otherwise, a copy is made.</p>
<p>New functions introduced as of JDK/JRE 1.3 allow native code to
obtain a direct pointer to array elements even if the VM does not
support pinning.</p>
</td>
</tr>
</tbody>
</table>
<h3 class="pHeading2"><a name="GetPrimitiveArrayCritical" id=
"GetPrimitiveArrayCritical"></a>GetPrimitiveArrayCritical<br />
ReleasePrimitiveArrayCritical</h3>
<p><code>void * GetPrimitiveArrayCritical(JNIEnv *env, jarray
array, jboolean *isCopy);<br />
<a name="ReleasePrimitiveArrayCritical" id=
"ReleasePrimitiveArrayCritical"></a> void
ReleasePrimitiveArrayCritical(JNIEnv *env, jarray array, void
*carray, jint mode);</code></p>
<p>The semantics of these two functions are very similar to the
existing <code>Get/Release&lt;primitivetype&gt;ArrayElements
functions. If possible, the VM returns a pointer to the primitive
array; otherwise, a copy is made. <strong>However, there are
significant restrictions on how these functions can be
used.</strong></code></p>
<p>After calling <code>GetPrimitiveArrayCritical</code>, the native
code should not run for an extended period of time before it calls
<code>ReleasePrimitiveArrayCritical</code>. We must treat the code
inside this pair of functions as running in a "critical region."
Inside a critical region, native code must not call other JNI
functions, or any system call that may cause the current thread to
block and wait for another Java thread. (For example, the current
thread must not call <code>read</code> on a stream being written by
another Java thread.)</p>
<p><strong>These restrictions make it more likely that the native
code will obtain an uncopied version of the array, even if the VM
does not support pinning.</strong> For example, a VM may
temporarily disable garbage collection when the native code is
holding a pointer to an array obtained via
<code>GetPrimitiveArrayCritical</code>.</p>
<p>Multiple pairs of <code>GetPrimtiveArrayCritical</code> and
<code>ReleasePrimitiveArrayCritical</code> may be nested. For
example:</p>
<pre>
  jint len = (*env)-&gt;GetArrayLength(env, arr1);
  jbyte *a1 = (*env)-&gt;GetPrimitiveArrayCritical(env, arr1, 0);
  jbyte *a2 = (*env)-&gt;GetPrimitiveArrayCritical(env, arr2, 0);
  /* We need to check in case the VM tried to make a copy. */
  if (a1 == NULL || a2 == NULL) {
    ... /* out of memory exception thrown */
  }
  memcpy(a1, a2, len);
  (*env)-&gt;ReleasePrimitiveArrayCritical(env, arr2, a2, 0);
  (*env)-&gt;ReleasePrimitiveArrayCritical(env, arr1, a1, 0);
</pre>
<p>Note that <code>GetPrimitiveArrayCritical</code> might still
make a copy of the array if the VM internally represents arrays in
a different format. Therefore we need to check its return value
against <code>NULL</code> for possible out of memory situations.
<a name="stringops" id="stringops"></a></p>
<h4 class="pHeading4">LINKAGE (GetPrimitiveArrayCritical):</h4>
<p class="pHeading4">Linkage Index 222 in the JNIEnv interface
function table.</p>
<h4 class="pHeading4">LINKAGE (ReleasePrimitiveArrayCritical):</h4>
<p class="pHeading4">Linkage Index 223 in the JNIEnv interface
function table.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h2 class="pHeading1"><a name="registering_native_methods" id=
"registering_native_methods"></a>Registering Native Methods</h2>
<a name="wp17734" id="wp17734"></a>
<h3 class="pHeading2">RegisterNatives</h3>
<a name="wp17738" id="wp17738"></a>
<p class="pBody"><code class="cCode">jint RegisterNatives(JNIEnv
*env, jclass clazz,<br />
const JNINativeMethod *methods, jint nMethods);</code></p>
<a name="wp4894" id="wp4894"></a>
<p class="pBody">Registers native methods with the class specified
by the <code class="cCode">clazz</code> argument. The <code class=
"cCode">methods</code> parameter specifies an array of <code class=
"cCode">JNINativeMethod</code> structures that contain the names,
signatures, and function pointers of the native methods. The
<code class="cCode">name</code> and <code class=
"cCode">signature</code> fields of the JNINativeMethod structure
are pointers to modified UTF-8 strings. The <code class=
"cCode">nMethods</code> parameter specifies the number of native
methods in the array. The <code class=
"cCode">JNINativeMethod</code> structure is defined as follows:</p>
<div class="pPreformatted">
<pre class="pPreformatted">
typedef struct {<a name="wp5845" id="wp5845"> </a>

    char *name;<a name="wp5846" id="wp5846"> </a>

    char *signature;<a name="wp5847" id="wp5847"> </a>

    void *fnPtr;<a name="wp5848" id="wp5848"> </a>

} JNINativeMethod;<a name="wp4883" id="wp4883"> </a>

</pre></div>
<a name="wp5854" id="wp5854"></a>
<p class="pBody">The function pointers nominally must have the
following signature:</p>
<div class="pPreformatted">
<pre class="pPreformatted">
<code class=
"cCode">ReturnType (*fnPtr)(JNIEnv *env, jobject objectOrClass, ...);</code><a name="wp4152"
id="wp4152"> </a>

</pre></div>
<p><a name="wp23061" id="wp23061"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 215 in the JNIEnv interface function
table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp23062" id="wp23062"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp23063" id="wp23063"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp23064" id="wp23064"></a>
<p class="pBody"><code class="cCode">methods</code>: the native
methods in the class.</p>
<a name="wp4889" id="wp4889"></a>
<p class="pBody"><code class="cCode">nMethods</code>: the number of
native methods in the class.</p>
<a name="wp23113" id="wp23113"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp23114" id="wp23114"></a>
<p class="pBody">Returns &#8220;0&#8221; on success; returns a
negative value on failure.</p>
<a name="wp17760" id="wp17760"></a>
<h4 class="pHeading4">THROWS:</h4>
<a name="wp17763" id="wp17763"></a>
<p class="pBody"><code class="cCode">NoSuchMethodError</code>: if a
specified method cannot be found or if the method is not
native.</p>
<a name="wp17775" id="wp17775"></a>
<h3 class="pHeading2">UnregisterNatives</h3>
<a name="wp5119" id="wp5119"></a>
<p class="pBody"><code class="cCode">jint UnregisterNatives(JNIEnv
*env, jclass clazz);</code></p>
<a name="wp5120" id="wp5120"></a>
<p class="pBody">Unregisters native methods of a class. The class
goes back to the state before it was linked or registered with its
native method functions.</p>
<a name="wp5130" id="wp5130"></a>
<p class="pBody">This function should not be used in normal native
code. Instead, it provides special programs a way to reload and
relink native libraries.</p>
<p><a name="wp5121" id="wp5121"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 216 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp23076" id="wp23076"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp23077" id="wp23077"></a>
<p class="pBody"><code class="cCode">clazz</code>: a Java class
object.</p>
<a name="wp23120" id="wp23120"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp4160" id="wp4160"></a>
<p class="pBody">Returns &#8220;0&#8221; on success; returns a
negative value on failure.</p>
<a name="wp5256" id="wp5256"></a>
<h2 class="pHeading1">Monitor Operations</h2>
<a name="wp23124" id="wp23124"></a>
<h3 class="pHeading2">MonitorEnter</h3>
<a name="wp23125" id="wp23125"></a>
<p class="pBody"><code class="cCode">jint MonitorEnter(JNIEnv *env,
jobject obj);</code></p>
<a name="wp23126" id="wp23126"></a>
<p class="pBody">Enters the monitor associated with the underlying
Java object referred to by <code class="cCode">obj</code>.</p>
Enters the monitor associated with the object referred to by obj.
The <code>obj</code> reference must not be <code>NULL</code>.
<p class="pBody">Each Java object has a monitor associated with it.
If the current thread already owns the monitor associated with
<code class="cCode">obj</code>, it increments a counter in the
monitor indicating the number of times this thread has entered the
monitor. If the monitor associated with <code class=
"cCode">obj</code> is not owned by any thread, the current thread
becomes the owner of the monitor, setting the entry count of this
monitor to 1. If another thread already owns the monitor associated
with <code class="cCode">obj</code>, the current thread waits until
the monitor is released, then tries again to gain ownership.</p>
<p>A monitor entered through a <code>MonitorEnter</code> JNI
function call cannot be exited using the <code>monitorexit</code>
Java virtual machine instruction or a synchronized method return. A
<code>MonitorEnter</code> JNI function call and a
<code>monitorenter</code> Java virtual machine instruction may race
to enter the monitor associated with the same object.</p>
<p>To avoid deadlocks, a monitor entered through a
<code>MonitorEnter</code> JNI function call must be exited using
the <code>MonitorExit</code> JNI call, unless the
<code>DetachCurrentThread</code> call is used to implicitly release
JNI monitors.</p>
<p><a name="wp23127" id="wp23127"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 217 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp23128" id="wp23128"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp23129" id="wp23129"></a>
<p class="pBody"><code class="cCode">obj</code>: a normal Java
object or class object.</p>
<a name="wp23130" id="wp23130"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp5251" id="wp5251"></a>
<p class="pBody">Returns &#8220;0&#8221; on success; returns a
negative value on failure.</p>
<a name="wp5252" id="wp5252"></a>
<h3 class="pHeading2">MonitorExit</h3>
<a name="wp5253" id="wp5253"></a>
<p class="pBody"><code class="cCode">jint MonitorExit(JNIEnv *env,
jobject obj);</code></p>
<a name="wp23139" id="wp23139"></a>
<p class="pBody">The current thread must be the owner of the
monitor associated with the underlying Java object referred to by
<code class="cCode">obj</code>. The thread decrements the counter
indicating the number of times it has entered this monitor. If the
value of the counter becomes zero, the current thread releases the
monitor.</p>
<p>Native code must not use <code>MonitorExit</code> to exit a
monitor entered through a synchronized method or a
<code>monitorenter</code> Java virtual machine instruction.</p>
<p><a name="wp23140" id="wp23140"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 218 in the JNIEnv interface function table.
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp23141" id="wp23141"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp23142" id="wp23142"></a>
<p class="pBody"><code class="cCode">obj</code>: a normal Java
object or class object.</p>
<a name="wp23143" id="wp23143"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp4180" id="wp4180"></a>
<p class="pBody">Returns &#8220;0&#8221; on success; returns a
negative value on failure.</p>
<a name="wp23144" id="wp23144"></a>
<h4 class="pHeading4">EXCEPTIONS:</h4>
<a name="wp4181" id="wp4181"></a>
<p class="pBody"><code>IllegalMonitorStateException</code>: if the
current thread does not own the monitor.</p>
<p><a name="wp5263" id="wp5263"></a></p>
<h2><a name="nio_support" id="nio_support"></a>NIO Support</h2>
<p>The NIO-related entry points allow native code to access
<code>java.nio</code> <em>direct buffers</em>. The contents of a
direct buffer can, potentially, reside in native memory outside of
the ordinary garbage-collected heap. For information about direct
buffers, please see <a href="../../io/index.html">New I/O APIs</a>
and the specification of the <a href=
"../../../../api/java/nio/ByteBuffer.html"><tt>java.nio.ByteBuffer</tt></a>
class.</p>
Three new functions introduced in JDK/JRE 1.4 allow JNI code to
create, examine, and manipulate direct buffers:
<ul>
<li><a href=
"#NewDirectByteBuffer"><code>NewDirectByteBuffer</code></a></li>
<li><a href=
"#GetDirectBufferAddress"><code>GetDirectBufferAddress</code></a></li>
<li><a href=
"#GetDirectBufferCapacity"><code>GetDirectBufferCapacity</code></a></li>
</ul>
<p>Every implementation of the Java virtual machine must support
these functions, but not every implementation is required to
support JNI access to direct buffers. If a JVM does not support
such access then the <tt>NewDirectByteBuffer</tt> and
<tt>GetDirectBufferAddress</tt> functions must always return
<tt>NULL</tt>, and the <tt>GetDirectBufferCapacity</tt> function
must always return <tt>-1</tt>. If a JVM <em>does</em> support such
access then these three functions must be implemented to return the
appropriate values.</p>
<a name="NewDirectByteBuffer" id="NewDirectByteBuffer"></a>
<h3 class="pHeading2"><a name="new_direct_byte_buffer" id=
"new_direct_byte_buffer"></a>NewDirectByteBuffer</h3>
<p><tt>jobject NewDirectByteBuffer(JNIEnv* env, void* address,
jlong capacity);</tt></p>
<p>Allocates and returns a direct <tt>java.nio.ByteBuffer</tt>
referring to the block of memory starting at the memory address
<tt>address</tt> and extending <tt>capacity</tt> bytes.</p>
<p>Native code that calls this function and returns the resulting
byte-buffer object to Java-level code should ensure that the buffer
refers to a valid region of memory that is accessible for reading
and, if appropriate, writing. An attempt to access an invalid
memory location from Java code will either return an arbitrary
value, have no visible effect, or cause an unspecified exception to
be thrown.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 229 in the JNIEnv interface function
table.</p>
<dl>
<dd>
<h4 class="pHeading4">PARAMETERS:</h4>
</dd>
</dl>
<p><tt>env</tt>: the <tt>JNIEnv</tt> interface pointer</p>
<p><tt>address</tt>: the starting address of the memory region
(must not be <tt>NULL</tt>)</p>
<p><tt>capacity</tt>: the size in bytes of the memory region (must
be positive)</p>
<dl>
<dd>
<h4 class="pHeading4">RETURNS:</h4>
</dd>
</dl>
<p>Returns a local reference to the newly-instantiated
<tt>java.nio.ByteBuffer</tt> object. Returns <tt>NULL</tt> if an
exception occurs, or if JNI access to direct buffers is not
supported by this virtual machine.</p>
<dl>
<dd>
<h4 class="pHeading4">EXCEPTIONS:</h4>
</dd>
</dl>
<p><tt>OutOfMemoryError</tt>: if allocation of the
<tt>ByteBuffer</tt> object fails</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.4</p>
<a name="GetDirectBufferAddress" id="GetDirectBufferAddress"></a>
<h3 class="pHeading2"><a name="get_direct_buffer_address" id=
"get_direct_buffer_address"></a>GetDirectBufferAddress</h3>
<p><tt>void* GetDirectBufferAddress(JNIEnv* env, jobject
buf);</tt></p>
<dl>
<dd>
<p>Fetches and returns the starting address of the memory region
referenced by the given direct <tt>java.nio.Buffer</tt>.</p>
<p>This function allows native code to access the same memory
region that is accessible to Java code via the buffer object.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p>Index 230 in the JNIEnv interface function table.</p>
</dd>
<dd>
<h4 class="pHeading4">PARAMETERS:</h4>
</dd>
</dl>
<p><tt>env</tt>: the <tt>JNIEnv</tt> interface pointer</p>
<p><tt>buf</tt>: a direct <tt>java.nio.Buffer</tt> object (must not
be <tt>NULL</tt>)</p>
<dl>
<dd>
<h4 class="pHeading4">RETURNS:</h4>
</dd>
</dl>
<p>Returns the starting address of the memory region referenced by
the buffer. Returns <tt>NULL</tt> if the memory region is
undefined, if the given object is not a direct
<tt>java.nio.Buffer</tt>, or if JNI access to direct buffers is not
supported by this virtual machine.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.4</p>
<a name="GetDirectBufferCapacity" id="GetDirectBufferCapacity"></a>
<h3 class="pHeading2"><a name="get_direct_buffer_capacity" id=
"get_direct_buffer_capacity"></a>GetDirectBufferCapacity</h3>
<p><tt>jlong GetDirectBufferCapacity(JNIEnv* env, jobject
buf);</tt></p>
<p>Fetches and returns the capacity of the memory region referenced
by the given direct <tt>java.nio.Buffer</tt>. The capacity is the
number of <i>elements</i> that the memory region contains.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 231 in the JNIEnv interface function
table.</p>
<dl>
<dd>
<h4 class="pHeading4">PARAMETERS:</h4>
</dd>
</dl>
<p><tt>env</tt>: the <tt>JNIEnv</tt> interface pointer</p>
<p><tt>buf</tt>: a direct <tt>java.nio.Buffer</tt> object (must not
be <tt>NULL</tt>)</p>
<dl>
<dd>
<h4 class="pHeading4">RETURNS:</h4>
</dd>
</dl>
<p>Returns the capacity of the memory region associated with the
buffer. Returns <tt>-1</tt> if the given object is not a direct
<tt>java.nio.Buffer</tt>, if the object is an unaligned view buffer
and the processor architecture does not support unaligned access,
or if JNI access to direct buffers is not supported by this virtual
machine.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.4</p>
<h2><a name="reflection_support" id=
"reflection_support"></a>Reflection Support</h2>
<p>Programmers can use the JNI to call Java methods or access Java
fields if they know the name and type of the methods or fields. The
Java Core Reflection API allows programmers to introspect Java
classes at runtime. JNI provides a set of conversion functions
between field and method IDs used in the JNI to field and method
objects used in the Java Core Reflection API.</p>
<h3 class="pHeading2"><a name="from_reflected_method" id=
"from_reflected_method"></a>FromReflectedMethod</h3>
<p><a name="FromReflectedMethod" id="FromReflectedMethod"></a>
<code>jmethodID FromReflectedMethod(JNIEnv *env, jobject
method);</code></p>
<p>Converts a <code>java.lang.reflect.Method</code> or
<code>java.lang.reflect.Constructor</code> object to a method
ID.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 7 in the JNIEnv interface function
table.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="from_reflected_field" id=
"from_reflected_field"></a>FromReflectedField</h3>
<p><a name="FromReflectedField" id="FromReflectedField"></a>
<code>jfieldID FromReflectedField(JNIEnv *env, jobject
field);</code></p>
<p>Converts a <code>java.lang.reflect.Field</code> to a field
ID.</p>
<h4 class="pHeading4">LINKAGE:</h4>
Index 8 in the JNIEnv interface function table.
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="to_reflected_method" id=
"to_reflected_method"></a>ToReflectedMethod</h3>
<p><a name="ToReflectedMethod" id="ToReflectedMethod"></a>
<code>jobject ToReflectedMethod(JNIEnv *env, jclass cls,<br />
&nbsp;&nbsp; jmethodID methodID, jboolean isStatic);</code></p>
<p>Converts a method ID derived from <code>cls</code> to a
<code>java.lang.reflect.Method</code> or
<code>java.lang.reflect.Constructor</code> object.
<code>isStatic</code> must be set to <code class=
"cCode">JNI_TRUE</code> if the method ID refers to a static field,
and <code class="cCode">JNI_FALSE</code> otherwise.</p>
<p>Throws <code>OutOfMemoryError</code> and returns 0 if fails.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 9 in the JNIEnv interface function
table.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<h3 class="pHeading2"><a name="to_reflected_field" id=
"to_reflected_field"></a>ToReflectedField</h3>
<p><a name="ToReflectedField" id="ToReflectedField"></a>
<code>jobject ToReflectedField(JNIEnv *env, jclass cls,<br />
&nbsp;&nbsp; jfieldID fieldID, jboolean isStatic);</code></p>
<p>Converts a field ID derived from <code>cls</code> to a
<code>java.lang.reflect.Field</code> object. <code>isStatic</code>
must be set to <code class="cCode">JNI_TRUE</code> if
<code>fieldID</code> refers to a static field, and <code class=
"cCode">JNI_FALSE</code> otherwise.</p>
<p>Throws <code>OutOfMemoryError</code> and returns 0 if fails.</p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 12 in the JNIEnv interface function
table.</p>
<h4 class="pHeading4">SINCE:</h4>
<p>JDK/JRE 1.2</p>
<a name="invo" id="invo"></a>
<h2 class="pHeading1"><a name="java_vminterface" id=
"java_vminterface"></a>Java VM Interface</h2>
<a name="wp23168" id="wp23168"></a>
<h3 class="pHeading2">GetJavaVM</h3>
<a name="wp23169" id="wp23169"></a>
<p class="pBody"><code class="cCode">jint GetJavaVM(JNIEnv *env,
JavaVM **vm);</code></p>
<a name="wp23170" id="wp23170"></a>
<p class="pBody">Returns the Java VM interface (used in the
Invocation API) associated with the current thread. The result is
placed at the location pointed to by the second argument,
<code class="cCode">vm</code>.</p>
<p><a name="wp23171" id="wp23171"></a></p>
<h4 class="pHeading4">LINKAGE:</h4>
<p class="pHeading4">Index 219 in the JNIEnv interface function
table.</p>
<h4 class="pHeading4">PARAMETERS:</h4>
<a name="wp23172" id="wp23172"></a>
<p class="pBody"><code class="cCode">env</code>: the JNI interface
pointer.</p>
<a name="wp23173" id="wp23173"></a>
<p class="pBody"><code class="cCode">vm</code>: a pointer to where
the result should be placed.</p>
<a name="wp23174" id="wp23174"></a>
<h4 class="pHeading4">RETURNS:</h4>
<a name="wp4184" id="wp4184"></a>
<p class="pBody">Returns &#8220;0&#8221; on success; returns a
negative value on failure.</p>
<a name="wp4850" id="wp4850"></a>
<p class="pBody"></p>
<p>&nbsp;</p>
<hr class="pHr" />
<table width="100%" summary="">
<tbody>
<tr>
<td align="left"><a accesskey="c" href=
"../../jni/spec/jniTOC.html">Contents</a> | <a accesskey="p" href=
"../../jni/spec/types.html">Previous</a> | <a accesskey="n" href=
"../../jni/spec/invocation.html">Next</a></td>
<td align="right"></td>
</tr>
</tbody>
</table>

<!--  footer start -->
<div id="javasefooter">
<div class="hr">
<hr /></div>
<div id="javasecopyright">
<img id="oraclelogofooter" src=
"../../../../images/oraclelogo.gif" alt="Oracle and/or its affiliates"
border="0" width="100" height="29" name=
"oraclelogofooter" />

<a href="../../../../legal/cpyr.html">Copyright
&#169;</a> 1993, 2012, Oracle and/or its affiliates. All rights
reserved.</div>
<div id="javasecontactus">
<a href=
"http://docs.oracle.com/javase/feedback.html">Contact
Us</a>
</div>
</div>
<!-- footer end -->

<!-- STATIC FOOTER -->

</body>
</html>
